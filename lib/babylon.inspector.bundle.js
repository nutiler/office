// https://doc.babylonjs.com/overviews/using_the_debuglayer
var INSPECTOR=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(5)},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.id,r,""]]);n(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(3)()).push([e.id,"@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css);",""]),t.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Inconsolata);",""]),t.push([e.id,'.insp-wrapper {\n  user-select: none;\n  display: flex;\n  font-size: 0.9em;\n  font-family: "Inconsolata", sans-serif;\n  background-color: #242424;\n  /**\r\n * A tool contained in the tree panel (available for each item of the tree)\r\n */\n  /**\r\n * The toolbar contains : \r\n * - a refresh tool - refresh the whole panel\r\n * - a popup tool - Open the inspector in a new panel\r\n * ...\r\n */ }\n  .insp-wrapper .gutter {\n    background-color: #2c2c2c; }\n    .insp-wrapper .gutter.gutter-vertical:not(.blocked) {\n      cursor: ns-resize; }\n    .insp-wrapper .gutter.gutter-horizontal:not(.blocked) {\n      cursor: ew-resize; }\n  .insp-wrapper .insp-right-panel {\n    width: 750px;\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0; }\n    .insp-wrapper .insp-right-panel.popupmode {\n      width: 100% !important; }\n    .insp-wrapper .insp-right-panel .top-panel {\n      width: 100%;\n      height: 100%;\n      position: relative;\n      background-color: #242424;\n      color: #ccc;\n      font-size: 1em; }\n      .insp-wrapper .insp-right-panel .top-panel .tab-panel-content {\n        width: 100%;\n        height: calc(100% - 32px); }\n      .insp-wrapper .insp-right-panel .top-panel .more-tabs-panel {\n        position: absolute;\n        z-index: 10;\n        top: 32px;\n        right: 0;\n        width: 100px;\n        display: none;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        border: 1px solid #454545;\n        background-color: #242424; }\n        .insp-wrapper .insp-right-panel .top-panel .more-tabs-panel .invisible-tab {\n          height: 25px;\n          width: 100%;\n          line-height: 25px;\n          text-align: center;\n          background-color: #2c2c2c;\n          cursor: pointer; }\n          .insp-wrapper .insp-right-panel .top-panel .more-tabs-panel .invisible-tab:hover {\n            background-color: #383838; }\n          .insp-wrapper .insp-right-panel .top-panel .more-tabs-panel .invisible-tab:active {\n            background-color: #454545; }\n  .insp-wrapper .tooltip {\n    position: absolute;\n    top: 32px;\n    right: 0;\n    color: #f29766;\n    display: none;\n    z-index: 4;\n    font-family: "Inconsolata", sans-serif;\n    padding: 2px;\n    background-color: #242424;\n    border: 1px solid #454545; }\n  .insp-wrapper .treeTool {\n    margin: 3px 8px 3px 3px;\n    cursor: pointer;\n    position: relative; }\n    .insp-wrapper .treeTool:hover {\n      color: #5db0d7; }\n    .insp-wrapper .treeTool.active {\n      color: #5db0d7; }\n  .insp-wrapper .tab-panel {\n    height: 100%; }\n    .insp-wrapper .tab-panel.searchable {\n      height: calc(100% - 30px - 10px); }\n    .insp-wrapper .tab-panel .texture-image {\n      max-height: 400px; }\n    .insp-wrapper .tab-panel .scene-actions {\n      overflow-y: auto; }\n      .insp-wrapper .tab-panel .scene-actions .actions-title {\n        font-size: 1.1em;\n        padding-bottom: 10px;\n        border-bottom: 1px solid #5db0d7;\n        margin: 10px 0 10px 0; }\n      .insp-wrapper .tab-panel .scene-actions .defaut-action, .insp-wrapper .tab-panel .scene-actions .action-radio, .insp-wrapper .tab-panel .scene-actions .action {\n        height: 20px;\n        line-height: 20px;\n        width: 100%;\n        cursor: pointer; }\n        .insp-wrapper .tab-panel .scene-actions .defaut-action:hover, .insp-wrapper .tab-panel .scene-actions .action-radio:hover, .insp-wrapper .tab-panel .scene-actions .action:hover {\n          background-color: #2c2c2c; }\n        .insp-wrapper .tab-panel .scene-actions .defaut-action:active, .insp-wrapper .tab-panel .scene-actions .action-radio:active, .insp-wrapper .tab-panel .scene-actions .action:active {\n          background-color: #383838; }\n      .insp-wrapper .tab-panel .scene-actions .action-radio:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F10C";\n        margin-right: 10px; }\n      .insp-wrapper .tab-panel .scene-actions .action-radio.active:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F192";\n        color: #5db0d7;\n        margin-right: 10px; }\n      .insp-wrapper .tab-panel .scene-actions .action:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F096";\n        margin-right: 10px; }\n      .insp-wrapper .tab-panel .scene-actions .action.active:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F14A";\n        color: #5db0d7;\n        margin-right: 10px; }\n  .insp-wrapper .tab-panel .shader-tree-panel {\n    height: 30px; }\n    .insp-wrapper .tab-panel .shader-tree-panel select {\n      height: 30px;\n      background-color: transparent;\n      color: #ccc;\n      height: 30px;\n      width: 100%;\n      max-width: 300px;\n      padding-left: 15px;\n      border: 1px solid #2c2c2c;\n      outline: 1px solid #454545; }\n      .insp-wrapper .tab-panel .shader-tree-panel select option {\n        padding: 5px;\n        color: gray; }\n  .insp-wrapper .tab-panel .shader-panel {\n    min-height: 100px;\n    user-select: text;\n    box-sizing: border-box;\n    padding: 0 15px; }\n    .insp-wrapper .tab-panel .shader-panel pre {\n      margin: 0;\n      white-space: pre-wrap; }\n      .insp-wrapper .tab-panel .shader-panel pre code {\n        background-color: #242424 !important;\n        padding: 0;\n        margin: 0; }\n    .insp-wrapper .tab-panel .shader-panel .shader-panel-title {\n      height: 25px;\n      border-bottom: 1px solid #383838;\n      text-transform: uppercase;\n      line-height: 25px;\n      margin-bottom: 10px; }\n  .insp-wrapper .tab-panel .console-panel {\n    min-height: 100px;\n    user-select: text;\n    box-sizing: border-box;\n    padding: 0 15px; }\n    .insp-wrapper .tab-panel .console-panel .console-panel-title {\n      height: 25px;\n      border-bottom: 1px solid #383838;\n      text-transform: uppercase;\n      line-height: 25px;\n      margin-bottom: 10px; }\n    .insp-wrapper .tab-panel .console-panel .console-panel-content {\n      overflow-y: auto;\n      overflow-x: hidden;\n      height: calc(100% - 30px); }\n    .insp-wrapper .tab-panel .console-panel .defaut-line, .insp-wrapper .tab-panel .console-panel .log, .insp-wrapper .tab-panel .console-panel .warn, .insp-wrapper .tab-panel .console-panel .error, .insp-wrapper .tab-panel .console-panel .object {\n      word-wrap: break-word;\n      padding: 3px 0 3px 5px; }\n    .insp-wrapper .tab-panel .console-panel .caller {\n      padding: 3px 0 3px 0;\n      color: #349ccd; }\n    .insp-wrapper .tab-panel .console-panel .log {\n      color: white; }\n    .insp-wrapper .tab-panel .console-panel .warn {\n      color: orange; }\n    .insp-wrapper .tab-panel .console-panel .error {\n      color: orangered; }\n    .insp-wrapper .tab-panel .console-panel .object {\n      color: #5db0d7; }\n  .insp-wrapper .tab-panel.stats-panel {\n    overflow-y: auto; }\n  .insp-wrapper .tab-panel .stats-fps {\n    font-weight: 600;\n    color: #f29766; }\n  .insp-wrapper .tab-panel .stat-title1 {\n    font-size: 1.1em;\n    padding: 10px; }\n  .insp-wrapper .tab-panel .stat-title2 {\n    margin: 10px 0 10px 0;\n    font-size: 1.05em;\n    border-bottom: 1px solid #5db0d7;\n    box-sizing: border-box; }\n  .insp-wrapper .tab-panel .stat-label {\n    display: inline-block;\n    width: 80%;\n    padding: 2px;\n    background-color: #2c2c2c;\n    border-bottom: 1px solid #242424;\n    border-top: 1px solid #242424;\n    height: 30px;\n    line-height: 30px;\n    box-sizing: border-box; }\n  .insp-wrapper .tab-panel .stat-value {\n    display: inline-block;\n    width: 20%;\n    padding: 2px;\n    background-color: #2c2c2c;\n    border-top: 1px solid #242424;\n    border-bottom: 1px solid #242424;\n    height: 30px;\n    line-height: 30px;\n    box-sizing: border-box; }\n  .insp-wrapper .tab-panel .stat-infos {\n    width: 100%;\n    padding: 4px; }\n  .insp-wrapper .property-type {\n    color: #5db0d7; }\n  .insp-wrapper .property-name, .insp-wrapper .insp-details .base-row .prop-name, .insp-wrapper .insp-details .row .prop-name, .insp-wrapper .insp-details .header-row .prop-name {\n    color: #f29766; }\n  .insp-wrapper .insp-tree {\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: calc(50% - 32px - 30px); }\n    .insp-wrapper .insp-tree .line {\n      padding: 3px;\n      cursor: pointer; }\n      .insp-wrapper .insp-tree .line:hover {\n        background-color: #2c2c2c; }\n      .insp-wrapper .insp-tree .line.active {\n        background-color: #454545; }\n        .insp-wrapper .insp-tree .line.active .line-content {\n          background-color: #242424; }\n      .insp-wrapper .insp-tree .line.unfolded:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F078"; }\n      .insp-wrapper .insp-tree .line.folded:before {\n        width: 1em;\n        height: 1em;\n        line-height: 1em;\n        display: inline-block;\n        font-family: \'FontAwesome\', sans-serif;\n        content: "\\F054"; }\n      .insp-wrapper .insp-tree .line .line-content {\n        padding-left: 15px; }\n        .insp-wrapper .insp-tree .line .line-content:hover {\n          background-color: #242424; }\n        .insp-wrapper .insp-tree .line .line-content .line:hover:first-child {\n          background-color: #383838; }\n  .insp-wrapper .insp-details {\n    background-color: #242424;\n    overflow-y: auto;\n    overflow-x: auto;\n    color: #ccc;\n    font-family: "Inconsolata", sans-serif; }\n    .insp-wrapper .insp-details .base-row, .insp-wrapper .insp-details .row, .insp-wrapper .insp-details .header-row {\n      display: flex;\n      width: 100%; }\n      .insp-wrapper .insp-details .base-row .base-property, .insp-wrapper .insp-details .row .base-property, .insp-wrapper .insp-details .header-row .base-property, .insp-wrapper .insp-details .base-row .prop-name, .insp-wrapper .insp-details .row .prop-name, .insp-wrapper .insp-details .header-row .prop-name, .insp-wrapper .insp-details .base-row .prop-value, .insp-wrapper .insp-details .row .prop-value, .insp-wrapper .insp-details .header-row .prop-value {\n        word-wrap: break-word;\n        padding: 2px 0 2px 0; }\n      .insp-wrapper .insp-details .base-row .prop-name, .insp-wrapper .insp-details .row .prop-name, .insp-wrapper .insp-details .header-row .prop-name {\n        width: 35%; }\n      .insp-wrapper .insp-details .base-row .prop-value, .insp-wrapper .insp-details .row .prop-value, .insp-wrapper .insp-details .header-row .prop-value {\n        width: 59%;\n        padding-left: 10px; }\n        .insp-wrapper .insp-details .base-row .prop-value.clickable, .insp-wrapper .insp-details .row .prop-value.clickable, .insp-wrapper .insp-details .header-row .prop-value.clickable {\n          cursor: pointer; }\n          .insp-wrapper .insp-details .base-row .prop-value.clickable:hover, .insp-wrapper .insp-details .row .prop-value.clickable:hover, .insp-wrapper .insp-details .header-row .prop-value.clickable:hover {\n            background-color: #383838; }\n          .insp-wrapper .insp-details .base-row .prop-value.clickable:after, .insp-wrapper .insp-details .row .prop-value.clickable:after, .insp-wrapper .insp-details .header-row .prop-value.clickable:after {\n            font-family: \'FontAwesome\', sans-serif;\n            content: "\\A0   \\A0   \\A0   \\F054"; }\n    .insp-wrapper .insp-details .row:nth-child(even) {\n      background-color: #2c2c2c; }\n    .insp-wrapper .insp-details .row.unfolded .prop-value.clickable:after {\n      font-family: \'FontAwesome\', sans-serif;\n      content: "\\A0   \\A0   \\A0   \\F078"; }\n    .insp-wrapper .insp-details .header-row {\n      background-color: #2c2c2c;\n      color: #ccc;\n      width: 100%;\n      max-width: 100%; }\n      .insp-wrapper .insp-details .header-row > * {\n        color: #ccc !important;\n        padding: 5px 0 5px 5px !important;\n        cursor: pointer; }\n        .insp-wrapper .insp-details .header-row > *:hover {\n          background-color: #383838; }\n      .insp-wrapper .insp-details .header-row .header-col {\n        display: flex;\n        justify-content: space-between;\n        align-items: center; }\n        .insp-wrapper .insp-details .header-row .header-col .sort-direction {\n          margin-right: 5px; }\n    .insp-wrapper .insp-details .element-viewer, .insp-wrapper .insp-details .color-element, .insp-wrapper .insp-details .texture-element {\n      position: relative;\n      width: 10px;\n      height: 10px;\n      display: inline-block;\n      margin-left: 5px; }\n    .insp-wrapper .insp-details .texture-element {\n      color: #f29766;\n      margin-left: 10px; }\n      .insp-wrapper .insp-details .texture-element .texture-viewer {\n        color: #ccc;\n        position: absolute;\n        z-index: 10;\n        bottom: 0;\n        right: 0;\n        display: block;\n        width: 150px;\n        height: 150px;\n        border: 1px solid #454545;\n        background-color: #242424;\n        transform: translateX(100%) translateY(100%);\n        display: none;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center; }\n        .insp-wrapper .insp-details .texture-element .texture-viewer .texture-viewer-img {\n          margin: 10px 0 10px 0;\n          max-width: 110px;\n          max-height: 110px; }\n  .insp-wrapper .tabbar {\n    height: 32px;\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid #383838;\n    width: 100%;\n    overflow-x: auto;\n    overflow-y: hidden;\n    box-sizing: border-box; }\n    .insp-wrapper .tabbar .tab {\n      height: calc(32px - 2px);\n      width: auto;\n      padding: 0 10px 0 10px;\n      color: #ccc;\n      line-height: 32px;\n      text-align: center;\n      cursor: pointer;\n      margin: 0 5px 0 5px;\n      box-sizing: border-box; }\n      .insp-wrapper .tabbar .tab:hover {\n        border-bottom: 1px solid #f29766;\n        background-color: #2c2c2c; }\n      .insp-wrapper .tabbar .tab:active {\n        background-color: #383838; }\n      .insp-wrapper .tabbar .tab.active {\n        border-bottom: 1px solid #f29766; }\n    .insp-wrapper .tabbar .more-tabs {\n      width: 32px;\n      height: 32px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      position: relative;\n      border-right: 1px solid #383838; }\n      .insp-wrapper .tabbar .more-tabs:hover {\n        background-color: #383838; }\n      .insp-wrapper .tabbar .more-tabs:active {\n        color: #f29766;\n        background-color: #454545; }\n      .insp-wrapper .tabbar .more-tabs.active {\n        color: #f29766; }\n  .insp-wrapper .toolbar {\n    display: flex; }\n    .insp-wrapper .toolbar .tool {\n      width: 32px;\n      height: 32px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      position: relative;\n      border-right: 1px solid #383838; }\n      .insp-wrapper .toolbar .tool:hover {\n        background-color: #383838; }\n      .insp-wrapper .toolbar .tool:active {\n        color: #f29766;\n        background-color: #454545; }\n      .insp-wrapper .toolbar .tool.active {\n        color: #f29766; }\n  .insp-wrapper .searchbar {\n    border: 1px solid #2c2c2c;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    color: #b3b3b3; }\n    .insp-wrapper .searchbar input {\n      background-color: #242424;\n      border: none;\n      width: 100%;\n      outline: none;\n      font-family: "Inconsolata", sans-serif;\n      color: #b3b3b3;\n      padding: 3px 0 3px 10px;\n      margin: 6px 0 6px 0; }\n',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=h[r.id];if(i){i.refs++;for(o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],a=i[0],o={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(o):t.push(n[a]={id:a,parts:[o]})}return t}function a(e,t){var n=v(),r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function p(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var a=g++;n=b||(b=s(t)),r=c.bind(null,n,a,!1),i=c.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=p(t),r=d.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=u.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var h={},_=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},f=_(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=_(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,g=0,m=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=f()),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o];(p=h[s.id]).refs--,a.push(p)}e&&r(i(e),t);for(o=0;o<a.length;o++){var p=a[o];if(0===p.refs){for(var l=0;l<p.parts.length;l++)p.parts[l]();delete h[p.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(6);!function(e){var t=function(){function t(n,i,a,o,s){var p=this;if(this._popupMode=!1,BABYLON.GUI?e.loadGUIProperties():BABYLON.Tools.LoadScript("https://preview.babylonjs.com/gui/babylon.gui.js",function(){e.loadGUIProperties()},function(){console.warn("Please add script https://preview.babylonjs.com/gui/babylon.gui.js to the HTML file")}),this._initialTab=a,this._parentElement=o,this._scene=n,t.DOCUMENT=window.document,t.WINDOW=window,i)this.openPopup(!0);else{var l=this._scene.getEngine().getRenderingCanvas(),c=l.parentElement,u=(t.WINDOW.getComputedStyle(c),t.WINDOW.getComputedStyle(l));if(this._canvasStyle={width:e.Helpers.Css(l,"width"),height:e.Helpers.Css(l,"height"),position:u.position,top:u.top,bottom:u.bottom,left:u.left,right:u.right,padding:u.padding,paddingBottom:u.paddingBottom,paddingLeft:u.paddingLeft,paddingTop:u.paddingTop,paddingRight:u.paddingRight,margin:u.margin,marginBottom:u.marginBottom,marginLeft:u.marginLeft,marginTop:u.marginTop,marginRight:u.marginRight},this._parentElement)this._c2diwrapper=e.Helpers.CreateDiv("insp-wrapper",this._parentElement),this._c2diwrapper.style.width="100%",this._c2diwrapper.style.height="100%",this._c2diwrapper.style.paddingLeft="5px",(m=e.Helpers.CreateDiv("insp-right-panel",this._c2diwrapper)).style.width="100%",m.style.height="100%",this._buildInspector(m);else{this._c2diwrapper=e.Helpers.CreateDiv("insp-wrapper");for(var d in this._canvasStyle)this._c2diwrapper.style[d]=this._canvasStyle[d];var h=parseFloat(u.width.substr(0,u.width.length-2))||0,_=parseFloat(u.height.substr(0,u.height.length-2))||0;if("absolute"===u.position||"relative"===u.position){var f=parseFloat(u.left.substr(0,u.left.length-2))||0;h+f>=t.WINDOW.innerWidth&&(this._c2diwrapper.style.maxWidth=h-f+"px")}var v=this._getRelativeParent(l),b=h/v.clientWidth*100,g=_/v.clientHeight*100;this._c2diwrapper.style.width=b+"%",this._c2diwrapper.style.height=g+"%",l.style.position="static",l.style.width="100%",l.style.height="100%",l.style.paddingBottom="0",l.style.paddingLeft="0",l.style.paddingTop="0",l.style.paddingRight="0",l.style.margin="0",l.style.marginBottom="0",l.style.marginLeft="0",l.style.marginTop="0",l.style.marginRight="0",c.replaceChild(this._c2diwrapper,l),this._c2diwrapper.appendChild(l);var m=e.Helpers.CreateDiv("insp-right-panel",this._c2diwrapper);this._parentElement||r([l,m],{direction:"horizontal",sizes:[75,25],onDrag:function(){e.Helpers.SEND_EVENT("resize"),p._tabbar&&p._tabbar.updateWidth()}}),this._buildInspector(m)}e.Helpers.SEND_EVENT("resize"),this._tabbar.updateWidth()}if(e.Helpers.IsBrowserEdge()||this.refresh(),s)for(var y=s.backgroundColor||"#242424",x=s.backgroundColorLighter||"#2c2c2c",w=s.backgroundColorLighter2||"#383838",C=s.backgroundColorLighter3||"#454545",B=s.color||"#ccc",L=s.colorTop||"#f29766",T=s.colorBot||"#5db0d7",P=t.DOCUMENT.querySelectorAll("style"),E=0;E<P.length;E++)-1!=P[E].innerHTML.indexOf("insp-wrapper")&&(P[E].innerHTML=P[E].innerHTML.replace(/#242424/g,y).replace(/#2c2c2c/g,x).replace(/#383838/g,w).replace(/#454545/g,C).replace(/#ccc/g,B).replace(/#f29766/g,L).replace(/#5db0d7/g,T))}return t.prototype._getRelativeParent=function(e,n){if(!e.parentElement)return e;var r=t.WINDOW.getComputedStyle(e);return n?"relative"===r.position||"absolute"===r.position?e:this._getRelativeParent(e.parentElement,!0):"static"==r.position?e.parentElement:this._getRelativeParent(e.parentElement,!0)},t.prototype._buildInspector=function(t){this._tabbar=new e.TabBar(this,this._initialTab),this._topPanel=e.Helpers.CreateDiv("top-panel",t),this._topPanel.appendChild(this._tabbar.toHtml()),this._tabbar.updateWidth(),this._tabPanel=e.Helpers.CreateDiv("tab-panel-content",this._topPanel)},Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popupMode",{get:function(){return this._popupMode},enumerable:!0,configurable:!0}),t.prototype.filterItem=function(e){this._tabbar.getActiveTab().filter(e)},t.prototype.displayObjectDetails=function(e){this._tabbar.switchMeshTab(e)},t.prototype.refresh=function(){e.Helpers.CleanDiv(this._tabPanel);var t=this._tabbar.getActiveTab();t.update(),this._tabPanel.appendChild(t.getPanel()),e.Helpers.SEND_EVENT("resize")},t.prototype.dispose=function(){if(!this._popupMode){this._tabbar.getActiveTab().dispose();var t=this._scene.getEngine().getRenderingCanvas();for(var n in this._canvasStyle)t.style[n]=this._canvasStyle[n];t.parentElement.parentElement.insertBefore(t,this._c2diwrapper),e.Helpers.CleanDiv(this._c2diwrapper),this._c2diwrapper.remove(),e.Helpers.SEND_EVENT("resize")}},t.prototype.openPopup=function(n){var r=this;if(e.Helpers.IsBrowserEdge())console.warn("Inspector - Popup mode is disabled in Edge, as the popup DOM cannot be updated from the main window for security reasons");else{var i=window.open("","Babylon.js INSPECTOR","toolbar=no,resizable=yes,menubar=no,width=750,height=1000");i.document.title="Babylon.js INSPECTOR";for(var a=t.DOCUMENT.querySelectorAll("style"),o=0;o<a.length;o++)i.document.body.appendChild(a[o].cloneNode(!0));for(var s=document.querySelectorAll("link"),p=0;p<s.length;p++){var l=i.document.createElement("link");l.rel="stylesheet",l.href=s[p].href,i.document.head.appendChild(l)}n||this.dispose(),this._popupMode=!0,t.DOCUMENT=i.document,t.WINDOW=i,this._c2diwrapper=e.Helpers.CreateDiv("insp-wrapper",i.document.body);var c=e.Helpers.CreateDiv("insp-right-panel",this._c2diwrapper);c.classList.add("popupmode"),this._buildInspector(c),this.refresh(),i.addEventListener("resize",function(){r._tabbar&&r._tabbar.updateWidth()})}},t.prototype.getActiveTabIndex=function(){return this._tabbar.getActiveTabIndex()},t}();e.Inspector=t}(i||(i={}));!function(e){e.PROPERTIES={format:function(t){var n=e.Helpers.GET_TYPE(t)||"type_not_defined";return e.PROPERTIES[n]&&e.PROPERTIES[n].format?e.PROPERTIES[n].format(t):e.Helpers.GET_TYPE(t)},type_not_defined:{properties:[],format:function(){return""}},Vector2:{type:BABYLON.Vector2,properties:["x","y"],format:function(t){return"x:"+e.Helpers.Trunc(t.x)+", y:"+e.Helpers.Trunc(t.y)}},Vector3:{type:BABYLON.Vector3,properties:["x","y","z"],format:function(t){return"x:"+e.Helpers.Trunc(t.x)+", y:"+e.Helpers.Trunc(t.y)+", z:"+e.Helpers.Trunc(t.z)}},Color3:{type:BABYLON.Color3,properties:["r","g","b"],format:function(e){return"R:"+e.r+", G:"+e.g+", B:"+e.b}},Quaternion:{type:BABYLON.Quaternion,properties:["x","y","z","w"]},Size:{type:BABYLON.Size,properties:["width","height"],format:function(t){return"Size - w:"+e.Helpers.Trunc(t.width)+", h:"+e.Helpers.Trunc(t.height)}},Texture:{type:BABYLON.Texture,properties:["hasAlpha","level","name","wrapU","wrapV","uScale","vScale","uAng","vAng","wAng","uOffset","vOffset"],format:function(e){return e.name}},MapTexture:{type:BABYLON.MapTexture},RenderTargetTexture:{type:BABYLON.RenderTargetTexture},DynamicTexture:{type:BABYLON.DynamicTexture},BaseTexture:{type:BABYLON.BaseTexture},FontTexture:{type:BABYLON.FontTexture},Sound:{type:BABYLON.Sound,properties:["name","autoplay","loop","useCustomAttenuation","soundTrackId","spatialSound","refDistance","rolloffFactor","maxDistance","distanceModel","isPlaying","isPaused"]},ArcRotateCamera:{type:BABYLON.ArcRotateCamera,properties:["position","alpha","beta","radius","angularSensibilityX","angularSensibilityY","target","lowerAlphaLimit","lowerBetaLimit","upperAlphaLimit","upperBetaLimit","lowerRadiusLimit","upperRadiusLimit","pinchPrecision","wheelPrecision","allowUpsideDown","checkCollisions"]},FreeCamera:{type:BABYLON.FreeCamera,properties:["position","rotation","rotationQuaternion","cameraDirection","cameraRotation","ellipsoid","applyGravity","angularSensibility","keysUp","keysDown","keysLeft","keysRight","checkCollisions","speed","lockedTarget","noRotationConstraint","fov","inertia","minZ","maxZ","layerMask","mode","orthoBottom","orthoTop","orthoLeft","orthoRight"]},Scene:{type:BABYLON.Scene,properties:["actionManager","activeCamera","ambientColor","clearColor","forceWireframe","forcePointsCloud","forceShowBoundingBoxes","useRightHandedSystem","hoverCursor","cameraToUseForPointers","fogEnabled","fogColor","fogDensity","fogStart","fogEnd","shadowsEnabled","lightsEnabled","collisionsEnabled","gravity","meshUnderPointer","pointerX","pointerY","uid"]},Mesh:{type:BABYLON.Mesh,properties:["name","position","rotation","rotationQuaternion","absolutePosition","material","actionManager","visibility","isVisible","isPickable","renderingGroupId","receiveShadows","renderOutline","outlineColor","outlineWidth","renderOverlay","overlayColor","overlayAlpha","hasVertexAlpha","useVertexColors","layerMask","alwaysSelectAsActiveMesh","ellipsoid","ellipsoidOffset","edgesWidth","edgesColor","checkCollisions","hasLODLevels"],format:function(e){return e.name}},StandardMaterial:{type:BABYLON.StandardMaterial,properties:["name","alpha","alphaMode","wireframe","isFrozen","zOffset","ambientColor","emissiveColor","diffuseColor","specularColor","specularPower","useAlphaFromDiffuseTexture","linkEmissiveWithDiffuse","useSpecularOverAlpha","diffuseFresnelParameters","opacityFresnelParameters","reflectionFresnelParameters","refractionFresnelParameters","emissiveFresnelParameters","diffuseTexture","emissiveTexture","specularTexture","ambientTexture","bumpTexture","lightMapTexture","opacityTexture","reflectionTexture","refractionTexture"],format:function(e){return e.name}},PrimitiveAlignment:{type:BABYLON.PrimitiveAlignment,properties:["horizontal","vertical"]},PrimitiveThickness:{type:BABYLON.PrimitiveThickness,properties:["topPixels","leftPixels","rightPixels","bottomPixels"]},BoundingInfo2D:{type:BABYLON.BoundingInfo2D,properties:["radius","center","extent"]},SolidColorBrush2D:{type:BABYLON.SolidColorBrush2D,properties:["color"]},GradientColorBrush2D:{type:BABYLON.GradientColorBrush2D,properties:["color1","color2","translation","rotation","scale"]},PBRMaterial:{type:BABYLON.PBRMaterial,properties:["name","albedoColor","albedoTexture","opacityTexture","reflectionTexture","emissiveTexture","bumpTexture","lightmapTexture","opacityFresnelParameters","emissiveFresnelParameters","linkEmissiveWithAlbedo","useLightmapAsShadowmap","useAlphaFromAlbedoTexture","useSpecularOverAlpha","useAutoMicroSurfaceFromReflectivityMap","useLogarithmicDepth","reflectivityColor","reflectivityTexture","reflectionTexture","reflectionColor","alpha","linkRefractionWithTransparency","indexOfRefraction","microSurface","useMicroSurfaceFromReflectivityMapAlpha","directIntensity","emissiveIntensity","specularIntensity","environmentIntensity","cameraExposure","cameraContrast","cameraColorGradingTexture","cameraColorCurves"]},Canvas2D:{type:BABYLON.Canvas2D},Canvas2DEngineBoundData:{type:BABYLON.Canvas2DEngineBoundData},Ellipse2D:{type:BABYLON.Ellipse2D},Ellipse2DInstanceData:{type:BABYLON.Ellipse2DInstanceData},Ellipse2DRenderCache:{type:BABYLON.Ellipse2DRenderCache},Group2D:{type:BABYLON.Group2D},IntersectInfo2D:{type:BABYLON.IntersectInfo2D},Lines2D:{type:BABYLON.Lines2D},Lines2DInstanceData:{type:BABYLON.Lines2DInstanceData},Lines2DRenderCache:{type:BABYLON.Lines2DRenderCache},PrepareRender2DContext:{type:BABYLON.PrepareRender2DContext},Prim2DBase:{type:BABYLON.Prim2DBase},Prim2DClassInfo:{type:BABYLON.Prim2DClassInfo},Prim2DPropInfo:{type:BABYLON.Prim2DPropInfo},Rectangle2D:{type:BABYLON.Rectangle2D},Rectangle2DInstanceData:{type:BABYLON.Rectangle2DInstanceData},Rectangle2DRenderCache:{type:BABYLON.Rectangle2DRenderCache},Render2DContext:{type:BABYLON.Render2DContext},RenderablePrim2D:{type:BABYLON.RenderablePrim2D},ScreenSpaceCanvas2D:{type:BABYLON.ScreenSpaceCanvas2D},Shape2D:{type:BABYLON.Shape2D},Shape2DInstanceData:{type:BABYLON.Shape2DInstanceData},Sprite2D:{type:BABYLON.Sprite2D},Sprite2DInstanceData:{type:BABYLON.Sprite2DInstanceData},Sprite2DRenderCache:{type:BABYLON.Sprite2DRenderCache},Text2D:{type:BABYLON.Text2D},Text2DInstanceData:{type:BABYLON.Text2DInstanceData},Text2DRenderCache:{type:BABYLON.Text2DRenderCache},WorldSpaceCanvas2D:{type:BABYLON.WorldSpaceCanvas2D},WorldSpaceCanvas2DNode:{type:BABYLON.WorldSpaceCanvas2DNode},PhysicsImpostor:{type:BABYLON.PhysicsImpostor,properties:["friction","mass","restitution"]}}}(i||(i={}));!function(e){e.loadGUIProperties=function(){var t={ValueAndUnit:{type:BABYLON.GUI.ValueAndUnit,properties:["_value","unit"],format:function(e){return e}},Control:{type:BABYLON.GUI.Control,properties:["_alpha","_fontFamily","_color","_scaleX","_scaleY","_rotation","_currentMeasure","_width","_height","_left","_top","_linkedMesh","isHitTestVisible","isPointerBlocker"],format:function(e){return e.name}},Button:{type:BABYLON.GUI.Button,properties:[],format:function(e){return e.name}},ColorPicker:{type:BABYLON.GUI.ColorPicker,properties:["_value"],format:function(e){return e.name}},Checkbox:{type:BABYLON.GUI.Checkbox,properties:["_isChecked","_background"],format:function(e){return e.name}},Ellipse:{type:BABYLON.GUI.Ellipse,properties:["_thickness"],format:function(e){return e.name}},Image:{type:BABYLON.GUI.Image,properties:["_imageWidth","_imageHeight","_loaded","_source"],format:function(e){return e.name}},Line:{type:BABYLON.GUI.Line,properties:["_lineWidth","_background","_x1","_y1","_x2","_y2"],format:function(e){return e.name}},RadioButton:{type:BABYLON.GUI.RadioButton,properties:["_isChecked","_background"],format:function(e){return e.name}},Rectangle:{type:BABYLON.GUI.Rectangle,properties:["_thickness","_cornerRadius"],format:function(e){return e.name}},Slider:{type:BABYLON.GUI.Slider,properties:["_minimum","_maximum","_value","_background","_borderColor"],format:function(e){return e.name}},StackPanel:{type:BABYLON.GUI.StackPanel,properties:["_isVertical"],format:function(e){return e.name}},TextBlock:{type:BABYLON.GUI.TextBlock,properties:["_text","_textWrapping"],format:function(e){return e.name}},Container:{type:BABYLON.GUI.Container,properties:["_background"],format:function(e){return e.name}}};for(var n in t)e.PROPERTIES[n]=t[n]}}(i||(i={}));!function(e){var t=function(){function t(){this._div=e.Helpers.CreateDiv()}return t.prototype.toHtml=function(){return this._div},t.prototype._build=function(){},t.prototype.dispose=function(){},t}();e.BasicElement=t}(i||(i={}));!function(e){var t=function(){function e(e){this._obj=e}return Object.defineProperty(e.prototype,"actualObject",{get:function(){return this._obj},enumerable:!0,configurable:!0}),e.prototype.correspondsTo=function(e){return e===this._obj},Object.defineProperty(e.prototype,"name",{get:function(){return e._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"object",{get:function(){return this._obj},enumerable:!0,configurable:!0}),e.prototype.highlight=function(e){},e}();t._name=BABYLON.Geometry.RandomId(),e.Adapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){var t=[],n=[];this._obj instanceof BABYLON.ArcRotateCamera?n=e.PROPERTIES.ArcRotateCamera.properties:this._obj instanceof BABYLON.FreeCamera&&(n=e.PROPERTIES.FreeCamera.properties);for(var r=0,i=n;r<i.length;r++){var a=i[r],o=new e.Property(a,this._obj);t.push(new e.PropertyLine(o))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.CameraPOV(this)),t},n.prototype.setPOV=function(){this._obj.getScene().activeCamera=this._obj},n}(e.Adapter);e.CameraAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){var r=t.call(this,e)||this;return r._isVisible=!1,r._viewer=n,r}return __extends(n,t),n.prototype.id=function(){var e="",t=this._obj;return t&&t.object&&(e=t.object.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){for(var t=[],n=0,r=e.PROPERTIES.PhysicsImpostor.properties;n<r.length;n++){var i=r[n],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.Checkbox(this)),t},n.prototype.setVisible=function(e){this._isVisible=e,e?this._viewer.showImpostor(this._obj):this._viewer.hideImpostor(this._obj)},n.prototype.isVisible=function(){return this._isVisible},n}(e.Adapter);e.PhysicsImpostorAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){for(var t=[],n=0,r=e.PROPERTIES.Control.properties;n<r.length;n++){var i=r[n],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Button)for(var o=0,s=e.PROPERTIES.Button.properties;o<s.length;o++){var i=s[o],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.ColorPicker)for(var p=0,l=e.PROPERTIES.ColorPicker.properties;p<l.length;p++){var i=l[p],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Checkbox)for(var c=0,u=e.PROPERTIES.Checkbox.properties;c<u.length;c++){var i=u[c],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Ellipse)for(var d=0,h=e.PROPERTIES.Ellipse.properties;d<h.length;d++){var i=h[d],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Image)for(var _=0,f=e.PROPERTIES.Image.properties;_<f.length;_++){var i=f[_],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Line)for(var v=0,b=e.PROPERTIES.Line.properties;v<b.length;v++){var i=b[v],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.RadioButton)for(var g=0,m=e.PROPERTIES.RadioButton.properties;g<m.length;g++){var i=m[g],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Rectangle)for(var y=0,x=e.PROPERTIES.Rectangle.properties;y<x.length;y++){var i=x[y],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Slider)for(var w=0,C=e.PROPERTIES.Slider.properties;w<C.length;w++){var i=C[w],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.StackPanel)for(var B=0,L=e.PROPERTIES.StackPanel.properties;B<L.length;B++){var i=L[B],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.TextBlock)for(var T=0,P=e.PROPERTIES.TextBlock.properties;T<P.length;T++){var i=P[T],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}if(this._obj instanceof BABYLON.GUI.Container)for(var E=0,A=e.PROPERTIES.Container.properties;E<A.length;E++){var i=A[E],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.Checkbox(this)),t},n.prototype.setVisible=function(e){this._obj.isVisible=e},n.prototype.isVisible=function(){return this._obj.isVisible},n}(e.Adapter);e.GUIAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){for(var t=[],n=0,r=e.PROPERTIES.Sound.properties;n<r.length;n++){var i=r[n],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.SoundInteractions(this)),t},n.prototype.setPlaying=function(e){this._obj.isPlaying?this._obj.pause():this._obj.play(),this._obj.onended=function(){e()}},n}(e.Adapter);e.SoundAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){return[]},n.prototype.getTools=function(){return[]},n}(e.Adapter);e.TextureAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){for(var t=[],r=0,i=n._PROPERTIES;r<i.length;r++){var a=i[r],o=new e.Property(a,this._obj);t.push(new e.PropertyLine(o))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.Checkbox(this)),t},n.prototype.setVisible=function(e){this._obj.setEnabled(e)},n.prototype.isVisible=function(){return this._obj.isEnabled()},n.prototype.highlight=function(e){this.actualObject.renderOutline=e,this.actualObject.outlineWidth=.25,this.actualObject.outlineColor=BABYLON.Color3.Yellow()},n}(e.Adapter);t._PROPERTIES=["position","diffuse","intensity","radius","range","specular"],e.LightAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){var t=[],n=[];this._obj instanceof BABYLON.StandardMaterial?n=e.PROPERTIES.StandardMaterial.properties:this._obj instanceof BABYLON.PBRMaterial&&(n=e.PROPERTIES.PBRMaterial.properties);for(var r=0,i=n;r<i.length;r++){var a=i[r],o=new e.Property(a,this._obj);t.push(new e.PropertyLine(o))}return t},n.prototype.getTools=function(){return[]},n.prototype.highlight=function(e){for(var t=0,n=this.actualObject.getBindedMeshes();t<n.length;t++){var r=n[t];r.renderOutline=e,r.outlineWidth=.25,r.outlineColor=BABYLON.Color3.Yellow()}},n}(e.Adapter);e.MaterialAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n._axis=[],n}return __extends(n,t),n.prototype.id=function(){var e="";return this._obj.name&&(e=this._obj.name),e},n.prototype.type=function(){return e.Helpers.GET_TYPE(this._obj)},n.prototype.getProperties=function(){for(var t=[],n=0,r=e.PROPERTIES.Mesh.properties;n<r.length;n++){var i=r[n],a=new e.Property(i,this._obj);t.push(new e.PropertyLine(a))}return t},n.prototype.getTools=function(){var t=[];return t.push(new e.Checkbox(this)),t.push(new e.DebugArea(this)),this._obj.getTotalVertices()>0&&t.push(new e.BoundingBox(this)),t.push(new e.Info(this)),t},n.prototype.setVisible=function(e){this._obj.setEnabled(e),this._obj.isVisible=e},n.prototype.isVisible=function(){return this._obj.isEnabled()&&this._obj.isVisible},n.prototype.isBoxVisible=function(){return this._obj.showBoundingBox},n.prototype.setBoxVisible=function(e){return this._obj.showBoundingBox=e},n.prototype.debug=function(e){0==this._axis.length&&this._drawAxis();for(var t=0,n=this._axis;t<n.length;t++)n[t].setEnabled(e)},n.prototype.getInfo=function(){return this._obj.getTotalVertices()+" vertices"},n.prototype.highlight=function(e){this.actualObject.renderOutline=e,this.actualObject.outlineWidth=.25,this.actualObject.outlineColor=BABYLON.Color3.Yellow()},n.prototype._drawAxis=function(){var e=this;this._obj.computeWorldMatrix();var t=(this._obj.getWorldMatrix(),new BABYLON.Vector3(8/this._obj.scaling.x,0,0)),n=new BABYLON.Vector3(0,8/this._obj.scaling.y,0),r=new BABYLON.Vector3(0,0,8/this._obj.scaling.z),i=function(t,n,r){var i=BABYLON.Mesh.CreateLines("###axis###",[n,r],e._obj.getScene());return i.color=t,i.renderingGroupId=1,i},a=i(BABYLON.Color3.Red(),BABYLON.Vector3.Zero(),t);a.parent=this._obj,this._axis.push(a);var o=i(BABYLON.Color3.Green(),BABYLON.Vector3.Zero(),n);o.parent=this._obj,this._axis.push(o);var s=i(BABYLON.Color3.Blue(),BABYLON.Vector3.Zero(),r);s.parent=this._obj,this._axis.push(s)},n}(e.Adapter);e.MeshAdapter=t}(i||(i={}));!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n._detailRows=[],n._sortDirection={},n._build(),e&&(n._detailRows=e,n.update()),n}return __extends(n,t),Object.defineProperty(n.prototype,"details",{set:function(e){this.clean(),this._detailRows=e,this.update()},enumerable:!0,configurable:!0}),n.prototype._build=function(){this._div.className="insp-details",this._div.id="insp-details",this._createHeaderRow(),this._div.appendChild(this._headerRow)},n.prototype.update=function(){this._sortDetails("name",1),this._addDetails()},n.prototype._addDetails=function(){for(var t=e.Helpers.CreateDiv("details",this._div),n=0,r=this._detailRows;n<r.length;n++){var i=r[n];t.appendChild(i.toHtml())}},n.prototype._sortDetails=function(t,n){for(var r=e.Inspector.DOCUMENT.querySelectorAll(".sort-direction"),i=0;i<r.length;i++)r[i].classList.remove("fa-chevron-up"),r[i].classList.remove("fa-chevron-down");n||!this._sortDirection[t]?this._sortDirection[t]=n||1:this._sortDirection[t]*=-1;var a=this._sortDirection[t];1==a?(this._headerRow.querySelector("#sort-direction-"+t).classList.remove("fa-chevron-down"),this._headerRow.querySelector("#sort-direction-"+t).classList.add("fa-chevron-up")):(this._headerRow.querySelector("#sort-direction-"+t).classList.remove("fa-chevron-up"),this._headerRow.querySelector("#sort-direction-"+t).classList.add("fa-chevron-down"));var o=function(e){return"string"==typeof e||e instanceof String};this._detailRows.sort(function(e,n){var r=String(e[t]),i=String(n[t]);return o(r)||(r=e[t].toString()),o(i)||(i=n[t].toString()),r.localeCompare(i,[],{numeric:!0})*a})},n.prototype.clean=function(){for(var t=0,n=this._detailRows;t<n.length;t++)n[t].dispose();e.Helpers.CleanDiv(this._div),this._div.appendChild(this._headerRow)},n.prototype.dispose=function(){for(var e=0,t=this._detailRows;e<t.length;e++)t[e].dispose()},n.prototype._createHeaderRow=function(){var t=this;this._headerRow=e.Helpers.CreateDiv("header-row");var n=function(n,r){var i=e.Helpers.CreateDiv(r+" header-col"),a=e.Inspector.DOCUMENT.createElement("span");a.textContent=n.charAt(0).toUpperCase()+n.slice(1);var o=e.Inspector.DOCUMENT.createElement("i");return o.className="sort-direction fa",o.id="sort-direction-"+n,i.appendChild(a),i.appendChild(o),i.addEventListener("click",function(e){t._sortDetails(n),t._addDetails()}),i};this._headerRow.appendChild(n("name","prop-name")),this._headerRow.appendChild(n("value","prop-value"))},n}(e.BasicElement);e.DetailPanel=t}(i||(i={}));!function(e){var t=function(){function t(e,t){this._property=e,this._obj=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._property},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._obj[this._property]},set:function(e){this._obj[this._property]=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return e.Helpers.GET_TYPE(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"obj",{get:function(){return this._obj},set:function(e){this._obj=e},enumerable:!0,configurable:!0}),t}();e.Property=t}(i||(i={}));!function(e){var t=function(){function e(){}return e.format=function(e,t){var n=e[t];if(BABYLON.PrimitiveAlignment&&e instanceof BABYLON.PrimitiveAlignment)if("horizontal"===t)switch(n){case BABYLON.PrimitiveAlignment.AlignLeft:return"left";case BABYLON.PrimitiveAlignment.AlignRight:return"right";case BABYLON.PrimitiveAlignment.AlignCenter:return"center";case BABYLON.PrimitiveAlignment.AlignStretch:return"stretch"}else if("vertical"===t)switch(n){case BABYLON.PrimitiveAlignment.AlignTop:return"top";case BABYLON.PrimitiveAlignment.AlignBottom:return"bottom";case BABYLON.PrimitiveAlignment.AlignCenter:return"center";case BABYLON.PrimitiveAlignment.AlignStretch:return"stretch"}return n},e}();e.PropertyFormatter=t;var n=function(){function n(t,n,r){void 0===r&&(r=0),this._children=[],this._elements=[],this._property=t,this._level=r,this._parent=n,this._div=e.Helpers.CreateDiv("row"),this._div.style.marginLeft=this._level+"px",e.Helpers.CreateDiv("prop-name",this._div).textContent=""+this.name,this._valueDiv=e.Helpers.CreateDiv("prop-value",this._div),this._valueDiv.textContent=this._displayValueContent()||"-",this._createElements();for(var i=0,a=this._elements;i<a.length;i++){var o=a[i];this._valueDiv.appendChild(o.toHtml())}this._updateValue(),this._isSimple()?(this._initInput(),this._valueDiv.addEventListener("click",this._displayInputHandler),this._input.addEventListener("keypress",this._validateInputHandler),this._input.addEventListener("keydown",this._escapeInputHandler)):(this._valueDiv.classList.add("clickable"),this._valueDiv.addEventListener("click",this._addDetails.bind(this))),e.Scheduler.getInstance().add(this)}return n.prototype._initInput=function(){this._input=document.createElement("input"),this._input.setAttribute("type","text"),this._displayInputHandler=this._displayInput.bind(this),this._validateInputHandler=this._validateInput.bind(this),this._escapeInputHandler=this._escapeInput.bind(this)},n.prototype._validateInput=function(t){if(13==t.keyCode){var n=this._input.value;this.updateObject(),"number"==typeof this._property.value?this._property.value=parseFloat(n):this._property.value=n,this.update(),e.Scheduler.getInstance().pause=!1}else 27==t.keyCode&&this.update()},n.prototype._escapeInput=function(e){27==e.keyCode&&this.update()},n.prototype._removeInputWithoutValidating=function(){e.Helpers.CleanDiv(this._valueDiv),this._valueDiv.textContent="-";for(var t=0,n=this._elements;t<n.length;t++){var r=n[t];this._valueDiv.appendChild(r.toHtml())}this._valueDiv.addEventListener("click",this._displayInputHandler)},n.prototype._displayInput=function(t){this._valueDiv.removeEventListener("click",this._displayInputHandler);var n=this._valueDiv.textContent;this._valueDiv.textContent="",this._input.value=n,this._valueDiv.appendChild(this._input),e.Scheduler.getInstance().pause=!0},n.prototype.updateObject=function(){return this._parent&&(this._property.obj=this._parent.updateObject()),this._property.value},Object.defineProperty(n.prototype,"name",{get:function(){return this._property.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return t.format(this._property.obj,this._property.name)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._property.type},enumerable:!0,configurable:!0}),n.prototype._createElements=function(){"Color3"!=this.type&&"Color4"!=this.type||this._elements.push(new e.ColorElement(this.value)),"Texture"==this.type&&this._elements.push(new e.TextureElement(this.value)),"HDRCubeTexture"==this.type&&this._elements.push(new e.HDRCubeTextureElement(this.value)),"CubeTexture"==this.type&&this._elements.push(new e.CubeTextureElement(this.value))},n.prototype._displayValueContent=function(){var t=this.value;return"number"==typeof t?e.Helpers.Trunc(t):"string"==typeof t||"boolean"==typeof t?t:e.PROPERTIES.format(t)},n.prototype.dispose=function(){e.Scheduler.getInstance().remove(this);for(var t=0,n=this._children;t<n.length;t++){var r=n[t];e.Scheduler.getInstance().remove(r)}for(var i=0,a=this._elements;i<a.length;i++)a[i].dispose();this._elements=[]},n.prototype._updateValue=function(){this.updateObject(),this._valueDiv.childNodes[0].nodeValue=this._displayValueContent();for(var e=0,t=this._elements;e<t.length;e++)t[e].update(this.value)},n.prototype.update=function(){this._removeInputWithoutValidating(),this._updateValue()},n._IS_TYPE_SIMPLE=function(t){var r=e.Helpers.GET_TYPE(t);return-1!=n._SIMPLE_TYPE.indexOf(r)},n.prototype._isSimple=function(){return null==this.value||"type_not_defined"===this.type||-1!=n._SIMPLE_TYPE.indexOf(this.type)},n.prototype.toHtml=function(){return this._div},n.prototype._addDetails=function(){if(this._div.classList.contains("unfolded")){this._div.classList.remove("unfolded");for(var t=0,r=this._children;t<r.length;t++){l=r[t];this._div.parentNode.removeChild(l.toHtml())}}else{if(this._div.classList.toggle("unfolded"),0==this._children.length)for(var i=this.value,a=e.PROPERTIES[e.Helpers.GET_TYPE(i)].properties.reverse(),o=0,s=a;o<s.length;o++){var p=s[o],l=new n(new e.Property(p,this._property.value),this,this._level+n._MARGIN_LEFT);this._children.push(l)}for(var c=0,u=this._children;c<u.length;c++){l=u[c];this._div.parentNode.insertBefore(l.toHtml(),this._div.nextSibling)}}},n}();n._SIMPLE_TYPE=["number","string","boolean"],n._MARGIN_LEFT=15,e.PropertyLine=n}(i||(i={}));!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n._div.className="color-element",n._div.style.backgroundColor=n._toRgba(t),n}return __extends(t,e),t.prototype.update=function(e){e&&(this._div.style.backgroundColor=this._toRgba(e))},t.prototype._toRgba=function(e){if(e){var t=255*e.r|0,n=255*e.g|0,r=255*e.b|0;return e instanceof BABYLON.Color4&&e.a,"rgba("+t+", "+n+", "+r+", 1)"}return""},t}(e.BasicElement);e.ColorElement=t}(i||(i={}));!function(e){var t=function(t){function n(n){var r=t.call(this)||this;return r._pause=!1,r._div.className="fa fa-search texture-element",r._textureDiv=e.Helpers.CreateDiv("texture-viewer",r._div),r._canvas=e.Helpers.CreateElement("canvas","texture-viewer-img",r._textureDiv),n&&(r._textureUrl=n.name),r._div.addEventListener("mouseover",r._showViewer.bind(r,"flex")),r._div.addEventListener("mouseout",r._showViewer.bind(r,"none")),r}return __extends(n,t),n.prototype.update=function(e){e&&e.url===this._textureUrl||(e&&(this._textureUrl=e.name),this._engine?(this._cube.material.dispose(!0,!0),this._cube.dispose()):this._initEngine(),this._populateScene())},n.prototype._populateScene=function(){var e=this,t=new BABYLON.CubeTexture(this._textureUrl,this._scene);t.coordinatesMode=BABYLON.Texture.SKYBOX_MODE,this._cube=BABYLON.Mesh.CreateBox("hdrSkyBox",10,this._scene);var n=new BABYLON.StandardMaterial("skyBox",this._scene);n.backFaceCulling=!1,n.reflectionTexture=t,n.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE,n.disableLighting=!0,this._cube.material=n,this._cube.registerBeforeRender(function(){e._cube.rotation.y+=.01})},n.prototype._initEngine=function(){var e=this;this._engine=new BABYLON.Engine(this._canvas),this._scene=new BABYLON.Scene(this._engine),this._scene.clearColor=new BABYLON.Color4(0,0,0,0),new BABYLON.FreeCamera("cam",new BABYLON.Vector3(0,0,-20),this._scene),new BABYLON.HemisphericLight("",new BABYLON.Vector3(0,1,0),this._scene),this._engine.runRenderLoop(function(){e._pause||e._scene.render()}),this._canvas.setAttribute("width","110"),this._canvas.setAttribute("height","110")},n.prototype._showViewer=function(e){"none"!=e?(this._engine||(this._initEngine(),this._populateScene()),this._pause=!1):this._pause=!0,this._textureDiv.style.display=e},n.prototype.dispose=function(){this._engine&&(this._engine.dispose(),this._engine=null)},n}(e.BasicElement);e.CubeTextureElement=t}(i||(i={}));!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._populateScene=function(){var e=this,t=new BABYLON.HDRCubeTexture(this._textureUrl,this._scene,512);t.coordinatesMode=BABYLON.Texture.SKYBOX_MODE,this._cube=BABYLON.Mesh.CreateBox("hdrSkyBox",10,this._scene);var n=new BABYLON.PBRMaterial("skyBox",this._scene);n.backFaceCulling=!1,n.reflectionTexture=t,n.microSurface=1,n.disableLighting=!0,this._cube.material=n,this._cube.registerBeforeRender(function(){e._cube.rotation.y+=.01})},t}(e.CubeTextureElement);e.HDRCubeTextureElement=t}(i||(i={}));!function(e){var t=function(t){function n(n){var r=t.call(this)||this;r._tab=n,r._div.classList.add("searchbar");var i=e.Inspector.DOCUMENT.createElement("i");return i.className="fa fa-search",r._div.appendChild(i),r._inputElement=e.Inspector.DOCUMENT.createElement("input"),r._inputElement.placeholder="Filter by name...",r._div.appendChild(r._inputElement),r._inputElement.addEventListener("keyup",function(e){var t=r._inputElement.value;r._tab.filter(t)}),r}return __extends(n,t),n.prototype.reset=function(){this._inputElement.value=""},n.prototype.update=function(){},n}(e.BasicElement);e.SearchBar=t}(i||(i={}));!function(e){var t=function(t){function n(n){var r=t.call(this)||this;r._div.className="fa fa-search texture-element",r._textureDiv=e.Helpers.CreateDiv("texture-viewer",r._div);var i=e.Helpers.CreateDiv("texture-viewer-img",r._textureDiv),a=e.Helpers.CreateDiv(null,r._textureDiv);return n&&(a.textContent=n.getBaseSize().width+"px x "+n.getBaseSize().height+"px",i.style.backgroundImage="url('"+n.url+"')",i.style.width=n.getBaseSize().width+"px",i.style.height=n.getBaseSize().height+"px"),r._div.addEventListener("mouseover",r._showViewer.bind(r,"flex")),r._div.addEventListener("mouseout",r._showViewer.bind(r,"none")),r}return __extends(n,t),n.prototype.update=function(e){},n.prototype._showViewer=function(e){this._textureDiv.style.display=e},n}(e.BasicElement);e.TextureElement=t}(i||(i={}));!function(e){var t=function(){return function(t,n,r){var i=this;this._elem=t,r||(r=this._elem.parentElement),this._infoDiv=e.Helpers.CreateDiv("tooltip",r),this._elem.addEventListener("mouseover",function(){i._infoDiv.textContent=n,i._infoDiv.style.display="block"}),this._elem.addEventListener("mouseout",function(){i._infoDiv.style.display="none"})}}();e.Tooltip=t}(i||(i={}));!function(e){var t=function(){function t(){}return t.GET_TYPE=function(e){if(null!=e&&void 0!=e){var t=BABYLON.Tools.getClassName(e);return t&&"object"!==t||(t=e.constructor.name)||(t=this._GetFnName(e.constructor)),this._CheckIfTypeExists(t)?t:this._GetTypeFor(e)}return"type_not_defined"},t._CheckIfTypeExists=function(t){return!!e.PROPERTIES[t]},t.IsBrowserEdge=function(){return/Edge/.test(navigator.userAgent)},t._GetTypeFor=function(t){for(var n in e.PROPERTIES){var r=e.PROPERTIES[n];if(r.type&&t instanceof r.type)return n}return"type_not_defined"},t._GetFnName=function(e){var t="function"==typeof e,n=t&&(e.name&&["",e.name]||e.toString().match(/function ([^\(]+)/));return!t&&"not a function"||n&&n[1]||"anonymous"},t.SEND_EVENT=function(t){var n;e.Inspector.DOCUMENT.createEvent?(n=e.Inspector.DOCUMENT.createEvent("HTMLEvents")).initEvent(t,!0,!0):n=new Event(t),window.dispatchEvent(n)},t.Trunc=function(e){return Math.round(e)!==e?e.toFixed(2):e},t.CreateDiv=function(e,n){return t.CreateElement("div",e,n)},t.CreateElement=function(t,n,r){var i=e.Inspector.DOCUMENT.createElement(t);return n&&(i.className=n),r&&r.appendChild(i),i},t.CleanDiv=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.Css=function(n,r){var i=n.cloneNode(!0),a=t.CreateDiv("",e.Inspector.DOCUMENT.body);a.style.display="none",a.appendChild(i);var o=e.Inspector.WINDOW.getComputedStyle(i)[r];return a.parentNode.removeChild(a),o},t.LoadScript=function(){BABYLON.Tools.LoadFile("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js",function(n){t.CreateElement("script","",e.Inspector.DOCUMENT.body).textContent=n,BABYLON.Tools.LoadFile("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/languages/glsl.min.js",function(n){t.CreateElement("script","",e.Inspector.DOCUMENT.body).textContent=n,BABYLON.Tools.LoadFile("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/zenburn.min.css",function(n){t.CreateElement("style","",e.Inspector.DOCUMENT.body).textContent=n})},null,null,null,function(){console.log("erreur")})},null,null,null,function(){console.log("erreur")})},t.IsSystemName=function(e){return null!=e&&0===e.indexOf("###")&&e.lastIndexOf("###")===e.length-3},t}();e.Helpers=t}(i||(i={}));!function(e){var t=function(){function e(){this.pause=!1,this._updatableProperties=[],this._timer=setInterval(this._update.bind(this),e.REFRESH_TIME)}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.add=function(e){this._updatableProperties.push(e)},e.prototype.remove=function(e){var t=this._updatableProperties.indexOf(e);-1!=t&&this._updatableProperties.splice(t,1)},e.prototype._update=function(){if(!this.pause)for(var e=0,t=this._updatableProperties;e<t.length;e++)t[e].update()},e}();t.REFRESH_TIME=250,e.Scheduler=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){var r=t.call(this)||this;return r._isActive=!1,r._tabbar=e,r.name=n,r._build(),r}return __extends(n,t),n.prototype.isActive=function(){return this._isActive},n.prototype._build=function(){var e=this;this._div.className="tab",this._div.textContent=this.name,this._div.addEventListener("click",function(t){e._tabbar.switchTab(e)})},n.prototype.active=function(e){e?this._div.classList.add("active"):this._div.classList.remove("active"),this._isActive=e},n.prototype.update=function(){},n.prototype.getPanel=function(){return this._panel},n.prototype.filter=function(e){},n.prototype.select=function(e){},n.prototype.highlightNode=function(e){},n.prototype.getPixelWidth=function(){var t=e.Inspector.WINDOW.getComputedStyle(this._div),n=parseFloat(t.marginLeft.substr(0,t.marginLeft.length-2))||0,r=parseFloat(t.marginRight.substr(0,t.marginRight.length-2))||0;return(this._div.clientWidth||0)+n+r},n}(e.BasicElement);e.Tab=t}(i||(i={}));!function(e){var t=function(t){function n(n,i,a){var o=t.call(this,n,i)||this;return o._treeItems=[],o._inspector=a,o._panel=e.Helpers.CreateDiv("tab-panel"),o._panel.classList.add("searchable"),o._searchBar=new e.SearchBar(o),o._panel.appendChild(o._searchBar.toHtml()),o._treePanel=e.Helpers.CreateDiv("insp-tree",o._panel),o._detailsPanel=new e.DetailPanel,o._panel.appendChild(o._detailsPanel.toHtml()),r([o._treePanel,o._detailsPanel.toHtml()],{blockDrag:o._inspector.popupMode,direction:"vertical"}),o.update(),o}return __extends(n,t),n.prototype.dispose=function(){this._detailsPanel.dispose()},n.prototype.update=function(t){var n;t?n=t:(this._treeItems=this._getTree(),n=this._treeItems),e.Helpers.CleanDiv(this._treePanel),this._detailsPanel.clean(),n.sort(function(e,t){return e.compareTo(t)});for(var r=0,i=n;r<i.length;r++){var a=i[r];this._treePanel.appendChild(a.toHtml())}},n.prototype.displayDetails=function(e){this.activateNode(e),this._detailsPanel.details=e.getDetails()},n.prototype.select=function(e){this.highlightNode(),this.activateNode(e),this.displayDetails(e)},n.prototype.highlightNode=function(e){if(this._treeItems)for(var t=0,n=this._treeItems;t<n.length;t++)n[t].highlight(!1);e&&e.highlight(!0)},n.prototype.activateNode=function(e){if(this._treeItems)for(var t=0,n=this._treeItems;t<n.length;t++)n[t].active(!1);e.active(!0)},n.prototype.getItemFor=function(e){for(var t=e,n=function(e,r){if(r.correspondsTo(e))return r;if(!(r.children.length>0))return null;for(var i=0,a=r.children;i<a.length;i++){var o=a[i],s=n(t,o);if(s)return s}},r=0,i=this._treeItems;r<i.length;r++){var a=i[r],o=n(t,a);if(o)return o}return null},n.prototype.filter=function(e){for(var t=[],n=0,r=this._treeItems;n<r.length;n++){var i=r[n];-1!=i.id.toLowerCase().indexOf(e.toLowerCase())&&t.push(i);for(var a=0,o=i.children;a<o.length;a++)-1!=o[a].id.toLowerCase().indexOf(e.toLowerCase())&&t.push(i)}this.update(t)},n}(e.Tab);e.PropertyTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Camera",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=[],n=0,r=this._inspector.scene.cameras;n<r.length;n++){var i=r[n];t.push(new e.TreeItem(this,new e.CameraAdapter(i)))}return t},n}(e.PropertyTab);e.CameraTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"GUI",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=this,n=[],r=function(n){var i=n.children;if(i&&i.length>0){for(var a=new e.TreeItem(t,new e.GUIAdapter(n)),o=0,s=i;o<s.length;o++){var p=s[o],l=r(p);a.add(l)}return a.update(),a}return new e.TreeItem(t,new e.GUIAdapter(n))},i=0,a=this._inspector.scene.textures;i<a.length;i++){var o=a[i];if(o instanceof BABYLON.GUI.AdvancedDynamicTexture){var s=r(o._rootContainer);n.push(s)}}return n},n}(e.PropertyTab);e.GUITab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Physics",n)||this}return __extends(n,t),n.prototype._getTree=function(){var t=[],n=this._inspector.scene;if(!n.isPhysicsEnabled())return t;this.viewer||(this.viewer=new BABYLON.Debug.PhysicsViewer(n));for(var r=0,i=n.meshes;r<i.length;r++){var a=i[r];a.physicsImpostor&&t.push(new e.TreeItem(this,new e.PhysicsImpostorAdapter(a.physicsImpostor,this.viewer)))}return t},n}(e.PropertyTab);e.PhysicsTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Audio",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=this,n=[],r=0,i=this._inspector.scene.soundTracks;r<i.length;r++)i[r].soundCollection.forEach(function(r){n.push(new e.TreeItem(t,new e.SoundAdapter(r)))});return n},n}(e.PropertyTab);e.SoundTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,i){var a=t.call(this,n,"Textures")||this;return a._treeItems=[],a._inspector=i,a._panel=e.Helpers.CreateDiv("tab-panel"),a._treePanel=e.Helpers.CreateDiv("insp-tree",a._panel),a._imagePanel=e.Helpers.CreateDiv("insp-details",a._panel),r([a._treePanel,a._imagePanel],{blockDrag:a._inspector.popupMode,direction:"vertical"}),a.update(),a}return __extends(n,t),n.prototype.dispose=function(){},n.prototype.update=function(t){var n;t?n=t:(this._treeItems=this._getTree(),n=this._treeItems),e.Helpers.CleanDiv(this._treePanel),e.Helpers.CleanDiv(this._imagePanel),n.sort(function(e,t){return e.compareTo(t)});for(var r=0,i=n;r<i.length;r++){var a=i[r];this._treePanel.appendChild(a.toHtml())}},n.prototype._getTree=function(){for(var t=[],n=0,r=this._inspector.scene.textures;n<r.length;n++){var i=r[n];t.push(new e.TreeItem(this,new e.TextureAdapter(i)))}return t},n.prototype.displayDetails=function(t){this.activateNode(t),e.Helpers.CleanDiv(this._imagePanel);var n=t.adapter.object,r=e.Helpers.CreateElement("img","texture-image",this._imagePanel),i=e.Helpers.CreateElement("img","texture-image",this._imagePanel),a=e.Helpers.CreateElement("img","texture-image",this._imagePanel),o=e.Helpers.CreateElement("img","texture-image",this._imagePanel),s=e.Helpers.CreateElement("img","texture-image",this._imagePanel),p=e.Helpers.CreateElement("img","texture-image",this._imagePanel);if(n instanceof BABYLON.MapTexture)n.bindTextureForPosSize(new BABYLON.Vector2(0,0),new BABYLON.Size(n.getSize().width,n.getSize().height),!1),BABYLON.Tools.DumpFramebuffer(n.getSize().width,n.getSize().height,this._inspector.scene.getEngine(),function(e){return r.src=e}),n.unbindTexture();else if(n instanceof BABYLON.RenderTargetTexture){var l=this._inspector.scene,c=l.getEngine(),u=n.getSize(),d=n.clone();d.activeCamera=n.activeCamera,d.onBeforeRender=n.onBeforeRender,d.onAfterRender=n.onAfterRender,d.onBeforeRenderObservable=n.onBeforeRenderObservable,d.onAfterRenderObservable.add(function(e){var t;switch(e){case 0:t=r;break;case 1:t=i;break;case 2:t=a;break;case 3:t=o;break;case 4:t=s;break;case 5:t=p;break;default:t=r}BABYLON.Tools.DumpFramebuffer(u.width,u.height,c,function(e){return t.src=e},"image/png")}),l.incrementRenderId(),l.resetCachedMaterial(),d.render(),d.dispose()}else if(n.url)r.src=n.url;else if(n._canvas){var h=n._canvas.toDataURL("image/png");r.src=h}},n.prototype.select=function(e){this.highlightNode(),this.activateNode(e),this.displayDetails(e)},n.prototype.activateNode=function(e){if(this._treeItems)for(var t=0,n=this._treeItems;t<n.length;t++)n[t].active(!1);e.active(!0)},n.prototype.highlightNode=function(e){if(this._treeItems)for(var t=0,n=this._treeItems;t<n.length;t++)n[t].highlight(!1);e&&e.highlight(!0)},n}(e.Tab);e.TextureTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Light",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=[],n=0,r=this._inspector.scene.lights;n<r.length;n++){var i=r[n];t.push(new e.TreeItem(this,new e.LightAdapter(i)))}return t},n}(e.PropertyTab);e.LightTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Material",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=[],n=0,r=this._inspector.scene.materials;n<r.length;n++){var i=r[n];t.push(new e.TreeItem(this,new e.MaterialAdapter(i)))}return t},n}(e.PropertyTab);e.MaterialTab=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){return t.call(this,e,"Mesh",n)||this}return __extends(n,t),n.prototype._getTree=function(){for(var t=this,n=[],r=[],i=function(a){var o=a.getDescendants(!0),s=new e.TreeItem(t,new e.MeshAdapter(a));if(o.length>0){for(var p=0,l=o;p<l.length;p++){var c=l[p];if(c instanceof BABYLON.AbstractMesh&&!e.Helpers.IsSystemName(c.name)){var u=i(c);s.add(u)}}s.update()}if(null!=a.parent&&-1!=r.indexOf(a))for(var d=0,h=!0;d<n.length&&h;)a.name===n[d].id&&(n.splice(d,1),h=!1),d++;return r.push(a),s},a=0,o=this._inspector.scene.meshes;a<o.length;a++){var s=o[a];if(-1==r.indexOf(s)&&!e.Helpers.IsSystemName(s.name)){var p=i(s);n.push(p)}}return n},n}(e.PropertyTab);e.MeshTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,i){var a=t.call(this,n,"Scene")||this;a._skeletonViewers=[],a._inspector=i,a._panel=e.Helpers.CreateDiv("tab-panel"),a._actions=e.Helpers.CreateDiv("scene-actions",a._panel),a._detailsPanel=new e.DetailPanel,a._panel.appendChild(a._detailsPanel.toHtml());for(var o=[],s=0,p=e.PROPERTIES.Scene.properties;s<p.length;s++){var l=p[s];o.push(new e.PropertyLine(new e.Property(l,a._inspector.scene)))}a._detailsPanel.details=o,r([a._actions,a._detailsPanel.toHtml()],{blockDrag:a._inspector.popupMode,sizes:[50,50],direction:"vertical"});var c=e.Helpers.CreateDiv("actions-title",a._actions);c.textContent="Rendering mode";var u=e.Helpers.CreateDiv("action-radio",a._actions),d=e.Helpers.CreateDiv("action-radio",a._actions),h=e.Helpers.CreateDiv("action-radio",a._actions);u.textContent="Point",d.textContent="Wireframe",h.textContent="Solid",a._inspector.scene.forcePointsCloud?u.classList.add("active"):a._inspector.scene.forceWireframe?d.classList.add("active"):h.classList.add("active"),a._generateRadioAction([u,d,h]),u.addEventListener("click",function(){a._inspector.scene.forcePointsCloud=!0,a._inspector.scene.forceWireframe=!1}),d.addEventListener("click",function(){a._inspector.scene.forcePointsCloud=!1,a._inspector.scene.forceWireframe=!0}),h.addEventListener("click",function(){a._inspector.scene.forcePointsCloud=!1,a._inspector.scene.forceWireframe=!1}),(c=e.Helpers.CreateDiv("actions-title",a._actions)).textContent="Textures channels",a._generateActionLine("Diffuse Texture",BABYLON.StandardMaterial.DiffuseTextureEnabled,function(e){BABYLON.StandardMaterial.DiffuseTextureEnabled=e}),a._generateActionLine("Ambient Texture",BABYLON.StandardMaterial.AmbientTextureEnabled,function(e){BABYLON.StandardMaterial.AmbientTextureEnabled=e}),a._generateActionLine("Specular Texture",BABYLON.StandardMaterial.SpecularTextureEnabled,function(e){BABYLON.StandardMaterial.SpecularTextureEnabled=e}),a._generateActionLine("Emissive Texture",BABYLON.StandardMaterial.EmissiveTextureEnabled,function(e){BABYLON.StandardMaterial.EmissiveTextureEnabled=e}),a._generateActionLine("Bump Texture",BABYLON.StandardMaterial.BumpTextureEnabled,function(e){BABYLON.StandardMaterial.BumpTextureEnabled=e}),a._generateActionLine("Opacity Texture",BABYLON.StandardMaterial.OpacityTextureEnabled,function(e){BABYLON.StandardMaterial.OpacityTextureEnabled=e}),a._generateActionLine("Reflection Texture",BABYLON.StandardMaterial.ReflectionTextureEnabled,function(e){BABYLON.StandardMaterial.ReflectionTextureEnabled=e}),a._generateActionLine("Refraction Texture",BABYLON.StandardMaterial.RefractionTextureEnabled,function(e){BABYLON.StandardMaterial.RefractionTextureEnabled=e}),a._generateActionLine("ColorGrading",BABYLON.StandardMaterial.ColorGradingTextureEnabled,function(e){BABYLON.StandardMaterial.ColorGradingTextureEnabled=e}),a._generateActionLine("Lightmap Texture",BABYLON.StandardMaterial.LightmapTextureEnabled,function(e){BABYLON.StandardMaterial.LightmapTextureEnabled=e}),a._generateActionLine("Fresnel",BABYLON.StandardMaterial.FresnelEnabled,function(e){BABYLON.StandardMaterial.FresnelEnabled=e}),(c=e.Helpers.CreateDiv("actions-title",a._actions)).textContent="Options",a._generateActionLine("Animations",a._inspector.scene.animationsEnabled,function(e){a._inspector.scene.animationsEnabled=e}),a._generateActionLine("Collisions",a._inspector.scene.collisionsEnabled,function(e){a._inspector.scene.collisionsEnabled=e}),a._generateActionLine("Fog",a._inspector.scene.fogEnabled,function(e){a._inspector.scene.fogEnabled=e}),a._generateActionLine("Lens flares",a._inspector.scene.lensFlaresEnabled,function(e){a._inspector.scene.lensFlaresEnabled=e}),a._generateActionLine("Lights",a._inspector.scene.lightsEnabled,function(e){a._inspector.scene.lightsEnabled=e}),a._generateActionLine("Particles",a._inspector.scene.particlesEnabled,function(e){a._inspector.scene.particlesEnabled=e}),a._generateActionLine("Post-processes",a._inspector.scene.postProcessesEnabled,function(e){a._inspector.scene.postProcessesEnabled=e}),a._generateActionLine("Probes",a._inspector.scene.probesEnabled,function(e){a._inspector.scene.probesEnabled=e}),a._generateActionLine("Procedural textures",a._inspector.scene.proceduralTexturesEnabled,function(e){a._inspector.scene.proceduralTexturesEnabled=e}),a._generateActionLine("Render targets",a._inspector.scene.renderTargetsEnabled,function(e){a._inspector.scene.renderTargetsEnabled=e}),a._generateActionLine("Shadows",a._inspector.scene.shadowsEnabled,function(e){a._inspector.scene.shadowsEnabled=e}),a._generateActionLine("Skeletons",a._inspector.scene.skeletonsEnabled,function(e){a._inspector.scene.skeletonsEnabled=e}),a._generateActionLine("Sprites",a._inspector.scene.spritesEnabled,function(e){a._inspector.scene.spritesEnabled=e}),a._generateActionLine("Textures",a._inspector.scene.texturesEnabled,function(e){a._inspector.scene.texturesEnabled=e}),(c=e.Helpers.CreateDiv("actions-title",a._actions)).textContent="Audio";var _=e.Helpers.CreateDiv("action-radio",a._actions),f=e.Helpers.CreateDiv("action-radio",a._actions);return a._generateActionLine("Disable audio",!a._inspector.scene.audioEnabled,function(e){a._inspector.scene.audioEnabled=!e}),_.textContent="Headphones",f.textContent="Normal speakers",a._generateRadioAction([_,f]),a._inspector.scene.headphone?_.classList.add("active"):f.classList.add("active"),_.addEventListener("click",function(){a._inspector.scene.headphone=!0}),f.addEventListener("click",function(){a._inspector.scene.headphone=!1}),c=e.Helpers.CreateDiv("actions-title",a._actions),c.textContent="Viewer",a._generateActionLine("Skeletons",!1,function(e){if(e)for(o=0;o<a._inspector.scene.meshes.length;o++){var t=a._inspector.scene.meshes[o];if(t.skeleton){for(var n=!1,r=0;r<a._skeletonViewers.length;r++)if(a._skeletonViewers[r].skeleton===t.skeleton){n=!0;break}if(n)continue;var i=new BABYLON.Debug.SkeletonViewer(t.skeleton,t,a._inspector.scene);i.isEnabled=!0,a._skeletonViewers.push(i)}}else{for(var o=0;o<a._skeletonViewers.length;o++)a._skeletonViewers[o].dispose();a._skeletonViewers=[]}}),a}return __extends(n,t),n.prototype.dispose=function(){this._detailsPanel.dispose()},n.prototype._generateActionLine=function(t,n,r){var i=e.Helpers.CreateDiv("scene-actions",this._actions);i.textContent=t,i.classList.add("action"),n&&i.classList.add("active"),i.addEventListener("click",function(e){i.classList.toggle("active");var t=i.classList.contains("active");r(t)})},n.prototype._generateRadioAction=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.addEventListener("click",function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].classList.remove("active");t.classList.add("active")}.bind(this,r))}},n}(e.Tab);e.SceneTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,i){var a=t.call(this,n,"Shader")||this;a._inspector=i,a._panel=e.Helpers.CreateDiv("tab-panel");var o=e.Helpers.CreateDiv("shader-tree-panel");a._vertexPanel=e.Helpers.CreateDiv("shader-panel"),a._fragmentPanel=e.Helpers.CreateDiv("shader-panel"),a._panel.appendChild(o),a._panel.appendChild(a._vertexPanel),a._panel.appendChild(a._fragmentPanel),e.Helpers.LoadScript(),r([a._vertexPanel,a._fragmentPanel],{blockDrag:a._inspector.popupMode,sizes:[50,50],direction:"vertical"});var s=e.Helpers.CreateElement("select","",o);s.addEventListener("change",a._selectShader.bind(a));var p=e.Helpers.CreateElement("option","",s);p.textContent="Select a shader",p.setAttribute("value",""),p.setAttribute("disabled","true"),p.setAttribute("selected","true");for(var l=0,c=a._inspector.scene.materials;l<c.length;l++){var u=c[l];if(u instanceof BABYLON.ShaderMaterial){var d=e.Helpers.CreateElement("option","",s);d.setAttribute("value",u.id),d.textContent=u.name+" - "+u.id}}return a}return __extends(n,t),n.prototype._selectShader=function(t){var n=t.target.value,r=this._inspector.scene.getMaterialByID(n);e.Helpers.CleanDiv(this._vertexPanel);var i=e.Helpers.CreateDiv("shader-panel-title",this._vertexPanel);i.textContent="Vertex shader";var a=e.Helpers.CreateElement("code","glsl",e.Helpers.CreateElement("pre","",this._vertexPanel));a.textContent=this._beautify(r.getEffect().getVertexShaderSource()),e.Helpers.CleanDiv(this._fragmentPanel),(i=e.Helpers.CreateDiv("shader-panel-title",this._fragmentPanel)).textContent="Frgament shader",(a=e.Helpers.CreateElement("code","glsl",e.Helpers.CreateElement("pre","",this._fragmentPanel))).textContent=this._beautify(r.getEffect().getFragmentShaderSource()),e.Helpers.CreateElement("script","",e.Inspector.DOCUMENT.body).textContent="hljs.initHighlighting();"},n.prototype.dispose=function(){},n.prototype._getBracket=function(e){for(var t=e.indexOf("{"),n=1,r=t,i=0,a=0,o=e.substr(t+1).split("");a<o.length;a++){var s=o[a];if(r++,"{"===s&&n++,"}"===s&&n--,0==n){i=r;break}}return{firstBracket:t,lastBracket:i}},n.prototype._beautify=function(e,t){void 0===t&&(t=0);for(var n=this._getBracket(e),r=n.firstBracket,i=n.lastBracket,a="",o=0;o<t;o++)a+="    ";if(-1==r)return e=a+e,e=e.replace(/;./g,function(e){return"\n"+e.substr(1)}),e=e.replace(/=/g," = "),e=e.replace(/\n/g,"\n"+a);var s=e.substr(0,r),p=e.substr(i+1,e.length),l=e.substr(r+1,i-r-1);return l=this._beautify(l,t+1),this._beautify(s,t)+"{\n"+l+"\n"+a+"}\n"+this._beautify(p,t)},n}(e.Tab);e.ShaderTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,i){var a=t.call(this,n,"Console")||this;a._inspector=i,a._panel=e.Helpers.CreateDiv("tab-panel");var o=e.Helpers.CreateDiv("console-panel"),s=e.Helpers.CreateDiv("console-panel");a._panel.appendChild(o),a._panel.appendChild(s),r([o,s],{blockDrag:a._inspector.popupMode,sizes:[50,50],direction:"vertical"});var p=e.Helpers.CreateDiv("console-panel-title",o);return p.textContent="Console logs",p=e.Helpers.CreateDiv("console-panel-title",s),p.textContent="Babylon.js logs",a._consolePanelContent=e.Helpers.CreateDiv("console-panel-content",o),a._bjsPanelContent=e.Helpers.CreateDiv("console-panel-content",s),a._oldConsoleLog=console.log,a._oldConsoleWarn=console.warn,a._oldConsoleError=console.error,console.log=a._addConsoleLog.bind(a),console.warn=a._addConsoleWarn.bind(a),console.error=a._addConsoleError.bind(a),a._bjsPanelContent.innerHTML=BABYLON.Tools.LogCache,BABYLON.Tools.OnNewCacheEntry=function(e){a._bjsPanelContent.innerHTML+=e,a._bjsPanelContent.scrollTop=a._bjsPanelContent.scrollHeight},a}return __extends(n,t),n.prototype.dispose=function(){console.log=this._oldConsoleLog,console.warn=this._oldConsoleWarn,console.error=this._oldConsoleError},n.prototype._message=function(t,n,r){e.Helpers.CreateDiv("caller",this._consolePanelContent).textContent=r,e.Helpers.CreateDiv(t,this._consolePanelContent).textContent+=n,this._consolePanelContent.scrollTop=this._consolePanelContent.scrollHeight},n.prototype._addConsoleLog=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=this._addConsoleLog.caller,i=null==r?"Window":"Function "+r.name+": ",a=0;a<t.length;a++)this._message("log",t[a],i),e.Helpers.IsBrowserEdge()||this._oldConsoleLog(t[a])},n.prototype._addConsoleWarn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=this._addConsoleLog.caller,i=null==r?"Window":r.name,a=0;a<t.length;a++)this._message("warn",t[a],i),e.Helpers.IsBrowserEdge()||this._oldConsoleWarn(t[a])},n.prototype._addConsoleError=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=this._addConsoleLog.caller,i=null==r?"Window":r.name,a=0;a<t.length;a++)this._message("error",t[a],i),e.Helpers.IsBrowserEdge()||this._oldConsoleError(t[a])},n}(e.Tab);e.ConsoleTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,r){var i=t.call(this,n,"Stats")||this;i._updatableProperties=[],i._inspector=r,i._scene=i._inspector.scene,i._engine=i._scene.getEngine(),i._glInfo=i._engine.getGlInfo(),i._panel=e.Helpers.CreateDiv("tab-panel"),i._panel.classList.add("stats-panel");var a=e.Helpers.CreateDiv("stat-title1",i._panel),o=e.Helpers.CreateElement("span","stats-fps");i._updatableProperties.push({elem:o,updateFct:function(){return BABYLON.Tools.Format(i._inspector.scene.getEngine().getFps(),0)+" fps"}});var s=e.Helpers.CreateElement("span");s.textContent="Babylon.js v"+BABYLON.Engine.Version+" - ",a.appendChild(s),a.appendChild(o),i._updateLoopHandler=i._update.bind(i),(a=e.Helpers.CreateDiv("stat-title2",i._panel)).textContent="Count";i._createStatLabel("Total meshes",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel);i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.meshes.length.toString()}}),i._createStatLabel("Draw calls",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.drawCalls.toString()}}),i._createStatLabel("Total lights",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.lights.length.toString()}}),i._createStatLabel("Total vertices",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.getTotalVertices().toString()}}),i._createStatLabel("Total materials",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.materials.length.toString()}}),i._createStatLabel("Total textures",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.textures.length.toString()}}),i._createStatLabel("Active meshes",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.getActiveMeshes().length.toString()}}),i._createStatLabel("Active indices",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.getActiveIndices().toString()}}),i._createStatLabel("Active bones",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.getActiveBones().toString()}}),i._createStatLabel("Active particles",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._scene.getActiveParticles().toString()}}),(a=e.Helpers.CreateDiv("stat-title2",i._panel)).textContent="Duration";i._createStatLabel("Meshes selection",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel);i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getEvaluateActiveMeshesDuration())}}),i._createStatLabel("Render targets",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getRenderTargetsDuration())}}),i._createStatLabel("Particles",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getParticlesDuration())}}),i._createStatLabel("Sprites",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getSpritesDuration())}}),i._createStatLabel("Render",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getRenderDuration())}}),i._createStatLabel("Frame",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(i._scene.getLastFrameDuration())}}),i._createStatLabel("Potential FPS",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return BABYLON.Tools.Format(1e3/i._scene.getLastFrameDuration(),0)}}),i._createStatLabel("Resolution",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getRenderWidth()+"x"+i._engine.getRenderHeight()}}),(a=e.Helpers.CreateDiv("stat-title2",i._panel)).textContent="Extensions";i._createStatLabel("Std derivatives",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel);i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().standardDerivatives?"Yes":"No"}}),i._createStatLabel("Compressed textures",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().s3tc?"Yes":"No"}}),i._createStatLabel("Hardware instances",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().instancedArrays?"Yes":"No"}}),i._createStatLabel("Texture float",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().textureFloat?"Yes":"No"}}),i._createStatLabel("32bits indices",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().uintIndices?"Yes":"No"}}),i._createStatLabel("Fragment depth",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().fragmentDepthSupported?"Yes":"No"}}),i._createStatLabel("High precision shaders",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().highPrecisionShaderSupported?"Yes":"No"}}),i._createStatLabel("Draw buffers",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().drawBuffersExtension?"Yes":"No"}}),i._createStatLabel("Vertex array object",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().vertexArrayObject?"Yes":"No"}}),(a=e.Helpers.CreateDiv("stat-title2",i._panel)).textContent="Caps.";i._createStatLabel("Stencil",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel);i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.isStencilEnable?"Enabled":"Disabled"}}),i._createStatLabel("Max textures units",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().maxTexturesImageUnits.toString()}}),i._createStatLabel("Max textures size",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().maxTextureSize.toString()}}),i._createStatLabel("Max anisotropy",i._panel),p=e.Helpers.CreateDiv("stat-value",i._panel),i._updatableProperties.push({elem:p,updateFct:function(){return i._engine.getCaps().maxAnisotropy.toString()}}),(a=e.Helpers.CreateDiv("stat-title2",i._panel)).textContent="Info";var p=e.Helpers.CreateDiv("stat-infos",i._panel);return i._updatableProperties.push({elem:p,updateFct:function(){return"WebGL v"+i._engine.webGLVersion+" - "+i._glInfo.version+" - "+i._glInfo.renderer}}),i._scene.registerAfterRender(i._updateLoopHandler),i}return __extends(n,t),n.prototype._createStatLabel=function(t,n){var r=e.Helpers.CreateDiv("stat-label",n);return r.textContent=t,r},n.prototype._update=function(){for(var e=0,t=this._updatableProperties;e<t.length;e++){var n=t[e];n.elem.textContent=n.updateFct()}},n.prototype.dispose=function(){this._scene.unregisterAfterRender(this._updateLoopHandler)},n}(e.Tab);e.StatsTab=t}(i||(i={}));!function(e){var t=function(t){function n(n,r){var i=t.call(this)||this;i._tabs=[],i._invisibleTabs=[],i._visibleTabs=[],i._inspector=n,i._tabs.push(new e.SceneTab(i,i._inspector)),i._tabs.push(new e.ConsoleTab(i,i._inspector)),i._tabs.push(new e.StatsTab(i,i._inspector)),i._meshTab=new e.MeshTab(i,i._inspector),i._tabs.push(new e.TextureTab(i,i._inspector)),i._tabs.push(i._meshTab),i._tabs.push(new e.ShaderTab(i,i._inspector)),i._tabs.push(new e.LightTab(i,i._inspector)),i._tabs.push(new e.MaterialTab(i,i._inspector)),BABYLON.GUI&&i._tabs.push(new e.GUITab(i,i._inspector)),i._tabs.push(new e.PhysicsTab(i,i._inspector)),i._tabs.push(new e.CameraTab(i,i._inspector)),i._tabs.push(new e.SoundTab(i,i._inspector)),i._toolBar=new e.Toolbar(i._inspector),i._build(),(!r||r<0||r>=i._tabs.length)&&(r=0,console.warn("")),i._tabs[r].active(!0);for(var a=0,o=i._tabs;a<o.length;a++){var s=o[a];i._visibleTabs.push(s)}return i}return __extends(n,t),n.prototype.update=function(){},n.prototype._build=function(){var t=this;this._div.className="tabbar",this._div.appendChild(this._toolBar.toHtml());for(var n=0,r=this._tabs;n<r.length;n++){var i=r[n];this._div.appendChild(i.toHtml())}this._moreTabsIcon=e.Helpers.CreateElement("i","fa fa-angle-double-right more-tabs"),this._moreTabsPanel=e.Helpers.CreateDiv("more-tabs-panel"),this._moreTabsIcon.addEventListener("click",function(){if("flex"==t._moreTabsPanel.style.display)t._moreTabsPanel.style.display="none";else{var n=t._div.parentNode;n.contains(t._moreTabsPanel)||n.appendChild(t._moreTabsPanel),e.Helpers.CleanDiv(t._moreTabsPanel);for(var r=0,i=t._invisibleTabs;r<i.length;r++){var a=i[r];t._addInvisibleTabToPanel(a)}t._moreTabsPanel.style.display="flex"}})},n.prototype._addInvisibleTabToPanel=function(t){var n=this,r=e.Helpers.CreateDiv("invisible-tab",this._moreTabsPanel);r.textContent=t.name,r.addEventListener("click",function(){n._moreTabsPanel.style.display="none",n.switchTab(t)})},n.prototype.switchTab=function(e){this.getActiveTab().dispose();for(var t=0,n=this._tabs;t<n.length;t++)n[t].active(!1);e.active(!0),this._inspector.refresh()},n.prototype.switchMeshTab=function(e){if(this.switchTab(this._meshTab),e){var t=this._meshTab.getItemFor(e);this._meshTab.select(t)}},n.prototype.getActiveTab=function(){for(var e=0,t=this._tabs;e<t.length;e++){var n=t[e];if(n.isActive())return n}},n.prototype.getActiveTabIndex=function(){for(var e=0;e<this._tabs.length;e++)if(this._tabs[e].isActive())return e;return 0},Object.defineProperty(n.prototype,"inspector",{get:function(){return this._inspector},enumerable:!0,configurable:!0}),n.prototype.getPixelWidth=function(){for(var e=0,t=0,n=this._visibleTabs;t<n.length;t++)e+=n[t].getPixelWidth();return e+=this._toolBar.getPixelWidth(),this._div.contains(this._moreTabsIcon)&&(e+=30),e},n.prototype.updateWidth=function(){for(var e=this._div.parentElement.clientWidth,t=this.getPixelWidth();this._visibleTabs.length>0&&t>e;){var n=this._visibleTabs.pop();this._invisibleTabs.push(n),this._div.removeChild(n.toHtml()),t=this.getPixelWidth()+75}if(this._invisibleTabs.length>0&&t+75<e){var r=this._invisibleTabs.pop();this._div.appendChild(r.toHtml()),this._visibleTabs.push(r),this._div.contains(this._moreTabsIcon)&&this._div.removeChild(this._moreTabsIcon)}this._invisibleTabs.length>0&&!this._div.contains(this._moreTabsIcon)&&this._div.appendChild(this._moreTabsIcon)},n}(e.BasicElement);e.TabBar=t}(i||(i={}));!function(e){var t=function(){function t(t,n,r,i){var a=this;this._inspector=r,this._elem=e.Inspector.DOCUMENT.createElement("i"),this._elem.className="tool fa "+t,n.appendChild(this._elem),this._elem.addEventListener("click",function(e){a.action()}),new e.Tooltip(this._elem,i)}return t.prototype.toHtml=function(){return this._elem},t.prototype.getPixelWidth=function(){var t=e.Inspector.WINDOW.getComputedStyle(this._elem),n=parseFloat(t.marginLeft.substr(0,t.marginLeft.length-2))||0,r=parseFloat(t.marginRight.substr(0,t.marginRight.length-2))||0;return(this._elem.clientWidth||0)+n+r},t.prototype._updateIcon=function(e){this._elem.className="tool fa "+e},t}();e.AbstractTool=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){var r=t.call(this,"fa-pause",e,n,"Pause the automatic update of properties")||this;return r._isPause=!1,r}return __extends(n,t),n.prototype.action=function(){this._isPause?(e.Scheduler.getInstance().pause=!1,this._updateIcon("fa-pause")):(e.Scheduler.getInstance().pause=!0,this._updateIcon("fa-play")),this._isPause=!this._isPause},n}(e.AbstractTool);e.PauseScheduleTool=t}(i||(i={}));!function(e){var t=function(e){function t(t,n){var r=e.call(this,"fa-mouse-pointer",t,n,"Select a mesh in the scene")||this;return r._isActive=!1,r._pickHandler=r._pickMesh.bind(r),r}return __extends(t,e),t.prototype.action=function(){this._isActive?this._deactivate():(this.toHtml().classList.add("active"),this._inspector.scene.getEngine().getRenderingCanvas().addEventListener("click",this._pickHandler),this._isActive=!0)},t.prototype._deactivate=function(){this.toHtml().classList.remove("active"),this._inspector.scene.getEngine().getRenderingCanvas().removeEventListener("click",this._pickHandler),this._isActive=!1},t.prototype._pickMesh=function(e){var t=this._updatePointerPosition(e),n=this._inspector.scene.pick(t.x,t.y,function(e){return!0});n.pickedMesh&&this._inspector.displayObjectDetails(n.pickedMesh),this._deactivate()},t.prototype._updatePointerPosition=function(e){var t=this._inspector.scene.getEngine().getRenderingCanvasClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t}(e.AbstractTool);e.PickTool=t}(i||(i={}));!function(e){var t=function(e){function t(t,n){return e.call(this,"fa-external-link",t,n,"Open the inspector in a popup")||this}return __extends(t,e),t.prototype.action=function(){this._inspector.openPopup()},t}(e.AbstractTool);e.PopupTool=t}(i||(i={}));!function(e){var t=function(e){function t(t,n){return e.call(this,"fa-refresh",t,n,"Refresh the current tab")||this}return __extends(t,e),t.prototype.action=function(){this._inspector.refresh()},t}(e.AbstractTool);e.RefreshTool=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){var r=t.call(this,"fa-tags",e,n,"Display mesh names on the canvas")||this;return r._isDisplayed=!1,r._advancedTexture=null,r._labelInitialized=!1,r._scene=null,r._guiLoaded=!1,r._scene=n.scene,r}return __extends(n,t),n.prototype.dispose=function(){this._advancedTexture&&this._advancedTexture.dispose()},n.prototype._checkGUILoaded=function(){return!0===this._guiLoaded||(BABYLON.GUI&&(this._guiLoaded=!0),this._guiLoaded)},n.prototype._initializeLabels=function(){var e=this;if(!this._labelInitialized&&this._checkGUILoaded()){this._advancedTexture=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");for(var t=0,n=this._scene.meshes;t<n.length;t++){var r=n[t];this._createLabel(r)}this._scene.onNewMeshAddedObservable.add(function(t,n){e._createLabel(t)}),this._scene.onMeshRemovedObservable.add(function(t,n){e._removeLabel(t)}),this._labelInitialized=!0}},n.prototype._createLabel=function(t){var n=t.name;if(!e.Helpers.IsSystemName(n)&&t){var r=new BABYLON.GUI.Rectangle;r.width=4+10*n.length+"px",r.height="22px",r.background="rgba(0,0,0,0.6)",r.color="black",this._advancedTexture.addControl(r);var i=new BABYLON.GUI.TextBlock;i.text=n,i.fontSize=12,r.addControl(i),r.linkWithMesh(t)}},n.prototype._removeLabel=function(e){for(var t=0,n=this._advancedTexture._rootContainer.children;t<n.length;t++){var r=n[t];if(r._linkedMesh===e){this._advancedTexture.removeControl(r);break}}},n.prototype.action=function(){this._checkGUILoaded()&&(this._isDisplayed=!this._isDisplayed,this._isDisplayed?(this._initializeLabels(),this._advancedTexture._rootContainer.isVisible=!0):this._advancedTexture._rootContainer.isVisible=!1)},n}(e.AbstractTool);e.LabelTool=t}(i||(i={}));!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n._tools=[],n._inspector=e,n._build(),n._addTools(),n}return __extends(n,t),n.prototype.update=function(){},n.prototype._build=function(){this._div.className="toolbar"},n.prototype._addTools=function(){this._tools.push(new e.RefreshTool(this._div,this._inspector)),this._tools.push(new e.LabelTool(this._div,this._inspector)),this._tools.push(new e.PickTool(this._div,this._inspector)),this._inspector.popupMode||e.Helpers.IsBrowserEdge()||this._tools.push(new e.PopupTool(this._div,this._inspector)),this._tools.push(new e.PauseScheduleTool(this._div,this._inspector)),this._tools.push(new e.DisposeTool(this._div,this._inspector))},n.prototype.getPixelWidth=function(){for(var e=0,t=0,n=this._tools;t<n.length;t++)e+=n[t].getPixelWidth();return e},n}(e.BasicElement);e.Toolbar=t}(i||(i={}));!function(e){var t=function(e){function t(t,n){return e.call(this,"fa-times",t,n,"Close the inspector panel")||this}return __extends(t,e),t.prototype.action=function(){this._inspector.dispose()},t}(e.AbstractTool);e.DisposeTool=t}(i||(i={}));!function(e){var t=function(t){function n(e,n){var r=t.call(this)||this;return r.children=[],r._tab=e,r._adapter=n,r._tools=r._adapter.getTools(),r._build(),r}return __extends(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this._adapter.id()},enumerable:!0,configurable:!0}),n.prototype.add=function(e){this.children.push(e),this.update()},Object.defineProperty(n.prototype,"adapter",{get:function(){return this._adapter},enumerable:!0,configurable:!0}),n.prototype.compareTo=function(e){var t=this.id,n=e.id;return t.localeCompare(n,[],{numeric:!0})},n.prototype.correspondsTo=function(e){return this._adapter.correspondsTo(e)},n.prototype.fold=function(){if(this.children.length>0){for(var e=0,t=this.children;e<t.length;e++)t[e].toHtml().style.display="none";this._div.classList.add("folded"),this._div.classList.remove("unfolded")}},n.prototype.unfold=function(){if(this.children.length>0){for(var e=0,t=this.children;e<t.length;e++)t[e].toHtml().style.display="block";this._div.classList.add("unfolded"),this._div.classList.remove("folded")}},n.prototype._build=function(){this._div.className="line";for(var t=0,n=this._tools;t<n.length;t++){var r=n[t];this._div.appendChild(r.toHtml())}var i=e.Inspector.DOCUMENT.createElement("span");i.textContent=this._adapter.id(),this._div.appendChild(i);var a=e.Inspector.DOCUMENT.createElement("span");a.className="property-type","type_not_defined"!==this._adapter.type()&&(a.textContent=" - "+this._adapter.type()),this._div.appendChild(a),this._lineContent=e.Helpers.CreateDiv("line-content",this._div),this._addEvent()},n.prototype.getDetails=function(){return this._adapter.getProperties()},n.prototype.update=function(){e.Helpers.CleanDiv(this._lineContent);for(var t=0,n=this.children;t<n.length;t++){var r=n[t].toHtml();this._lineContent.appendChild(r)}this.children.length>0&&(this._div.classList.contains("folded")||this._div.classList.contains("unfolded")||this._div.classList.add("folded")),this.fold()},n.prototype._addEvent=function(){var e=this;this._div.addEventListener("click",function(t){e._tab.select(e),e._isFolded()?e.unfold():e.fold(),t.stopPropagation()}),this._div.addEventListener("mouseover",function(t){e._tab.highlightNode(e),t.stopPropagation()}),this._div.addEventListener("mouseout",function(t){e._tab.highlightNode()})},n.prototype.highlight=function(e){if(!e)for(var t=0,n=this.children;t<n.length;t++)n[t]._adapter.highlight(e);this._adapter.highlight(e)},n.prototype._isFolded=function(){return!this._div.classList.contains("unfolded")},n.prototype.active=function(e){this._div.classList.remove("active");for(var t=0,n=this.children;t<n.length;t++)n[t].active(!1);e&&this._div.classList.add("active")},n}(e.BasicElement);e.TreeItem=t}(i||(i={}));!function(e){var t=function(){function t(){this._on=!1,this._elem=e.Inspector.DOCUMENT.createElement("i"),this._elem.className="treeTool fa",this._addEvents()}return t.prototype.toHtml=function(){return this._elem},t.prototype._addEvents=function(){var e=this;this._elem.addEventListener("click",function(t){e.action(),t.stopPropagation()})},t.prototype.action=function(){this._on=!this._on},t}();e.AbstractTreeTool=t}(i||(i={}));!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n._obj=t,n._elem.classList.add("fa-square-o"),n._on=n._obj.isBoxVisible(),n._check(),n}return __extends(t,e),t.prototype.action=function(){e.prototype.action.call(this),this._check()},t.prototype._check=function(){this._on?this._elem.classList.add("active"):this._elem.classList.remove("active"),this._obj.setBoxVisible(this._on)},t}(e.AbstractTreeTool);e.BoundingBox=t}(i||(i={}));!function(e){var t=function(t){function n(e){var n=t.call(this)||this;return n.cameraPOV=e,n._elem.classList.add("fa-video-camera"),n}return __extends(n,t),n.prototype.action=function(){t.prototype.action.call(this),this._gotoPOV()},n.prototype._gotoPOV=function(){var t=e.Inspector.DOCUMENT.querySelectorAll(".fa-video-camera.active");console.log(t);for(var n=0;n<t.length;n++)t[n].classList.remove("active");this._elem.classList.add("active"),this.cameraPOV.setPOV()},n}(e.AbstractTreeTool);e.CameraPOV=t}(i||(i={}));!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n.playSound=t,n.b=!1,n._elem.classList.add("fa-play"),n}return __extends(t,e),t.prototype.action=function(){e.prototype.action.call(this),this._playSound()},t.prototype._playSound=function(){var e=this;this._elem.classList.contains("fa-play")?(this._elem.classList.remove("fa-play"),this._elem.classList.add("fa-pause")):(this._elem.classList.remove("fa-pause"),this._elem.classList.add("fa-play")),this.playSound.setPlaying(function(){e._elem.classList.remove("fa-pause"),e._elem.classList.add("fa-play")})},t}(e.AbstractTreeTool);e.SoundInteractions=t}(i||(i={}));!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n._obj=t,n._elem.classList.add("fa-eye"),n._on=n._obj.isVisible(),n._check(!0),n}return __extends(t,e),t.prototype.action=function(){e.prototype.action.call(this),this._check()},t.prototype._check=function(e){this._on?(this._elem.classList.add("fa-eye"),this._elem.classList.add("active"),this._elem.classList.remove("fa-eye-slash")):(this._elem.classList.remove("fa-eye"),this._elem.classList.remove("active"),this._elem.classList.add("fa-eye-slash")),e||this._obj.setVisible(this._on)},t}(e.AbstractTreeTool);e.Checkbox=t}(i||(i={}));!function(e){var t=function(e){function t(t){var n=e.call(this)||this;return n._obj=t,n._elem.classList.add("fa-wrench"),n}return __extends(t,e),t.prototype.action=function(){e.prototype.action.call(this),this._on?this._elem.classList.add("active"):this._elem.classList.remove("active"),this._obj.debug(this._on)},t}(e.AbstractTreeTool);e.DebugArea=t}(i||(i={}));var i;!function(e){var t=function(t){function n(n){var r=t.call(this)||this;return r._obj=n,r._elem.classList.add("fa-info-circle"),r._tooltip=new e.Tooltip(r._elem,r._obj.getInfo(),r._elem),r}return __extends(n,t),n.prototype.action=function(){t.prototype.action.call(this)},n}(e.AbstractTreeTool);e.Info=t}(i||(i={})),e.exports=i},function(e,t,n){"use strict";(function(){var n=this,r=n.attachEvent&&!n[a],i=n.document,a="addEventListener",o=function(){for(var e,t=["","-webkit-","-moz-","-o-"],n=0;n<t.length;n++)if(e=i.createElement("div"),e.style.cssText="width:"+t[n]+"calc(9px)",e.style.length)return t[n]+"calc"}(),s=function(e){return"string"==typeof e||e instanceof String?i.querySelector(e):e},p=function(e,t){var p,l,c,u,d,h,_,f,v=[];void 0===(t=void 0!==t?t:{}).gutterSize&&(t.gutterSize=10),void 0===t.minSize&&(t.minSize=100),void 0===t.snapOffset&&(t.snapOffset=30),void 0===t.direction&&(t.direction="horizontal"),"horizontal"==t.direction?(p="width",c="clientWidth",u="clientX",d="left",h="gutter gutter-horizontal",_="paddingLeft",f="paddingRight",t.cursor||(t.cursor="ew-resize")):"vertical"==t.direction&&(p="height",c="clientHeight",u="clientY",d="top",h="gutter gutter-vertical",_="paddingTop",f="paddingBottom",t.cursor||(t.cursor="ns-resize")),t.blockDrag&&(h+=" blocked");var b=function(e){if(!t.blockDrag){var r=this,i=r.a,o=r.b;!r.dragging&&t.onDragStart&&t.onDragStart(),e.preventDefault(),r.dragging=!0,r.move=m.bind(r),r.stop=g.bind(r),n[a]("mouseup",r.stop),n[a]("touchend",r.stop),n[a]("touchcancel",r.stop),r.parent[a]("mousemove",r.move),r.parent[a]("touchmove",r.move),i[a]("selectstart",C),i[a]("dragstart",C),o[a]("selectstart",C),o[a]("dragstart",C),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",r.gutter.style.cursor=t.cursor,r.parent.style.cursor=t.cursor,y.call(r)}},g=function(){if(!t.blockDrag){var e=this,r=e.a,i=e.b;e.dragging&&t.onDragEnd&&t.onDragEnd(),e.dragging=!1,n.removeEventListener("mouseup",e.stop),n.removeEventListener("touchend",e.stop),n.removeEventListener("touchcancel",e.stop),e.parent.removeEventListener("mousemove",e.move),e.parent.removeEventListener("touchmove",e.move),delete e.stop,delete e.move,r.removeEventListener("selectstart",C),r.removeEventListener("dragstart",C),i.removeEventListener("selectstart",C),i.removeEventListener("dragstart",C),r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor=""}},m=function(e){var n;this.dragging&&((n="touches"in e?e.touches[0][u]-this.start:e[u]-this.start)<=this.aMin+t.snapOffset+this.aGutterSize?n=this.aMin+this.aGutterSize:n>=this.size-(this.bMin+t.snapOffset+this.bGutterSize)&&(n=this.size-(this.bMin+this.bGutterSize)),x.call(this,n),t.onDrag&&t.onDrag())},y=function(){var e=n.getComputedStyle(this.parent),t=this.parent[c]-parseFloat(e[_])-parseFloat(e[f]);this.size=this.a.getBoundingClientRect()[p]+this.b.getBoundingClientRect()[p]+this.aGutterSize+this.bGutterSize,this.percentage=Math.min(this.size/t*100,100),this.start=this.a.getBoundingClientRect()[d]},x=function(e){this.a.style[p]=o+"("+e/this.size*this.percentage+"% - "+this.aGutterSize+"px)",this.b.style[p]=o+"("+(this.percentage-e/this.size*this.percentage)+"% - "+this.bGutterSize+"px)"},w=function(e,n,i){"string"==typeof n||n instanceof String||(n=r?t.sizes[l]+"%":o+"("+n+"% - "+i+"px)"),e.style[p]=n},C=function(){return!1},B=s(e[0]).parentNode;if(!t.sizes){var L=100/e.length;for(t.sizes=[],l=0;l<e.length;l++)t.sizes.push(L)}if(!Array.isArray(t.minSize)){var T=[];for(l=0;l<e.length;l++)T.push(t.minSize);t.minSize=T}for(l=0;l<e.length;l++){var P,E=s(e[l]),A=1==l,S=l==e.length-1,D=t.sizes[l],O=t.gutterSize;if(l>0&&((P={a:s(e[l-1]),b:E,aMin:t.minSize[l-1],bMin:t.minSize[l],dragging:!1,parent:B,isFirst:A,isLast:S,direction:t.direction}).aGutterSize=t.gutterSize,P.bGutterSize=t.gutterSize,A&&(P.aGutterSize=t.gutterSize/2),S&&(P.bGutterSize=t.gutterSize/2)),!r){if(l>0){var N=i.createElement("div");N.className=h,N.style[p]=t.gutterSize+"px",N[a]("mousedown",b.bind(P)),N[a]("touchstart",b.bind(P)),B.insertBefore(N,E),P.gutter=N}0!==l&&l!=e.length-1||(O=t.gutterSize/2)}w(E,D,O),l>0&&v.push(P)}return{setSizes:function(e){for(var t=0;t<e.length;t++)if(t>0){var n=v[t-1];w(n.a,e[t-1],n.aGutterSize),w(n.b,e[t],n.bGutterSize)}},collapse:function(e){var t;e===v.length?(t=v[e-1],y.call(t),x.call(t,t.size-t.bGutterSize)):(t=v[e],y.call(t),x.call(t,t.aGutterSize))},destroy:function(){for(var e=0;e<v.length;e++)v[e].parent.removeChild(v[e].gutter),v[e].a.style[p]="",v[e].b.style[p]=""}}};void 0!==e&&e.exports&&(t=e.exports=p),t.Split=p}).call(window)}]);